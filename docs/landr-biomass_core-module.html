<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 1 LandR Biomass_core Module | LandR Manual</title>
<meta name="description" content="1.0.0.1 Authors: Yong Luo yluo1@lakeheadu.ca [aut], Eliot J B McIntire eliot.mcintire@nrcan-rncan.gc.ca [aut, cre], Ceres Barros ceres.barros@ubc.ca [aut], Alex M. Chubaty achubaty@for-cast.ca...">
<meta name="generator" content="bookdown 0.26 with bs4_book()">
<meta property="og:title" content="Chapter 1 LandR Biomass_core Module | LandR Manual">
<meta property="og:type" content="book">
<meta property="og:url" content="https://predictiveecology.github.io/LandR-Manual/landr-biomass_core-module.html">
<meta property="og:image" content="https://predictiveecology.github.io/LandR-Manual/figures/LandRHex.png">
<meta property="og:description" content="1.0.0.1 Authors: Yong Luo yluo1@lakeheadu.ca [aut], Eliot J B McIntire eliot.mcintire@nrcan-rncan.gc.ca [aut, cre], Ceres Barros ceres.barros@ubc.ca [aut], Alex M. Chubaty achubaty@for-cast.ca...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 1 LandR Biomass_core Module | LandR Manual">
<meta name="twitter:description" content="1.0.0.1 Authors: Yong Luo yluo1@lakeheadu.ca [aut], Eliot J B McIntire eliot.mcintire@nrcan-rncan.gc.ca [aut, cre], Ceres Barros ceres.barros@ubc.ca [aut], Alex M. Chubaty achubaty@for-cast.ca...">
<meta name="twitter:image" content="https://predictiveecology.github.io/LandR-Manual/figures/LandRHex.png">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.3.1/transition.js"></script><script src="libs/bs3compat-0.3.1/tabs.js"></script><script src="libs/bs3compat-0.3.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<style type="text/css">
    /* Used with Pandoc 2.11+ new --citeproc when CSL is used */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
        }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style>
<link rel="stylesheet" href="css/style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="v. 1.0.0">LandR Manual</a>:
        <small class="text-muted">v. 1.0.0</small>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Preface</a></li>
<li><a class="active" href="landr-biomass_core-module.html"><span class="header-section-number">1</span> LandR Biomass_core Module</a></li>
<li><a class="" href="landr-data-and-calibration-modules.html"><span class="header-section-number">2</span> LandR Data and Calibration Modules</a></li>
<li><a class="" href="landr-biomass_speciesdata-module.html"><span class="header-section-number">3</span> LandR Biomass_speciesData Module</a></li>
<li><a class="" href="landr-biomass_borealdataprep-module.html"><span class="header-section-number">4</span> LandR Biomass_borealDataPrep Module</a></li>
<li><a class="" href="landr-biomass_speciesparameters-module.html"><span class="header-section-number">5</span> LandR Biomass_speciesParameters Module</a></li>
<li><a class="" href="landr-validation-modules.html"><span class="header-section-number">6</span> LandR Validation Modules</a></li>
<li><a class="" href="landr-biomass_validationknn-module.html"><span class="header-section-number">7</span> LandR Biomass_validationKNN Module</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/PredictiveEcology/LandR-Manual">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="landr-biomass_core-module" class="section level1" number="1">
<h1>
<span class="header-section-number">1</span> LandR <em>Biomass_core</em> Module<a class="anchor" aria-label="anchor" href="#landr-biomass_core-module"><i class="fas fa-link"></i></a>
</h1>
<!-- the following are text references used in captions for LaTeX compatibility -->










<p><a href="https://github.com/PredictiveEcology/Biomass_core"><img src="modules/Biomass_core/figures/moduleVersionBadge.png" alt="module-version-Badge"></a></p>
<div id="authors" class="section level4" number="1.0.0.1">
<h4>
<span class="header-section-number">1.0.0.1</span> Authors:<a class="anchor" aria-label="anchor" href="#authors"><i class="fas fa-link"></i></a>
</h4>
<p>Yong Luo <a href="mailto:yluo1@lakeheadu.ca" class="email">yluo1@lakeheadu.ca</a> [aut], Eliot J B McIntire <a href="mailto:eliot.mcintire@nrcan-rncan.gc.ca" class="email">eliot.mcintire@nrcan-rncan.gc.ca</a> [aut, cre], Ceres Barros <a href="mailto:ceres.barros@ubc.ca" class="email">ceres.barros@ubc.ca</a> [aut], Alex M. Chubaty <a href="mailto:achubaty@for-cast.ca" class="email">achubaty@for-cast.ca</a> [aut], Ian Eddy <a href="mailto:ian.eddy@nrcan-rncan.gc.ca" class="email">ian.eddy@nrcan-rncan.gc.ca</a> [ctb], Jean Marchal <a href="mailto:jean.d.marchal@gmail.com" class="email">jean.d.marchal@gmail.com</a> [ctb]
<!-- ideally separate authors with new lines, '\n' not working --></p>
<p><strong>This documentation is work in progress. Potential discrepancies and omissions
may exist for the time being. If you find any, contact us using the “Get help”
link above.</strong></p>
</div>
<div id="module-overview" class="section level2" number="1.1">
<h2>
<span class="header-section-number">1.1</span> Module Overview<a class="anchor" aria-label="anchor" href="#module-overview"><i class="fas fa-link"></i></a>
</h2>
<div id="quick-links" class="section level3" number="1.1.1">
<h3>
<span class="header-section-number">1.1.1</span> Quick links<a class="anchor" aria-label="anchor" href="#quick-links"><i class="fas fa-link"></i></a>
</h3>
<ul>
<li><p><a href="landr-biomass_core-module.html#general-functioning">General functioning</a></p></li>
<li><p><a href="landr-biomass_core-module.html#inputs-list">List of input objects</a></p></li>
<li><p><a href="landr-biomass_core-module.html#params-list">List of parameters</a></p></li>
<li><p><a href="landr-biomass_core-module.html#outputs-list">List of outputs</a></p></li>
<li><p><a href="landr-biomass_core-module.html#sim-flow">Simulation flow and module events</a></p></li>
</ul>
</div>
<div id="summary" class="section level3" number="1.1.2">
<h3>
<span class="header-section-number">1.1.2</span> Summary<a class="anchor" aria-label="anchor" href="#summary"><i class="fas fa-link"></i></a>
</h3>
<p>LandR <em>Biomass_core</em> (hereafter <em>Biomass_core</em>) is the core forest succession
simulation module of the LandR ecosystem of <code>SpaDES</code> modules <span class="citation">(see <a href="#ref-ChubatyMcIntire2019" role="doc-biblioref">Chubaty &amp; McIntire 2019</a>)</span>. It simulates tree cohort ageing, growth, mortality and
competition for light resources, as well as seed dispersal (Fig.
<a href="landr-biomass_core-module.html#fig:fig-Biomass-core">1.1</a>), in a spatially explicit manner and using a yearly
time step. The model is based on the LANDIS-II Biomass Succession Extension
v.3.2.1 <span class="citation">(LBSE, <a href="#ref-SchellerMiranda2015" role="doc-biblioref">Scheller &amp; Miranda 2015b</a>)</span>, with a few changes (see <a href="landr-biomass_core-module.html#biomass-core-vs-lbse">Differences
between <em>Biomass_core</em> and LBSE</a>). Nonetheless, the
essential functioning of the succession model still largely follows its
LANDIS-II counterpart, and we refer the reader to the corresponding LBSE manual
<span class="citation">(<a href="#ref-SchellerMiranda2015" role="doc-biblioref">Scheller &amp; Miranda 2015b</a>)</span> for a detailed reading of the mechanisms implemented in
the model.</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:fig-Biomass-core"></span>
<img src="modules/Biomass_core/figures/Biomass_coreSchematic.png" alt="Biomass_core simulates tree cohort growth, mortality, recruitment and dispersal dynamics, as a function of  cohort ageing and competition for light (shading) and space, as well as disturbances like fire (simulated using other modules)." width="60%"><p class="caption">
Figure 1.1: <em>Biomass_core</em> simulates tree cohort growth, mortality, recruitment and dispersal dynamics, as a function of cohort ageing and competition for light (shading) and space, as well as disturbances like fire (simulated using other modules).
</p>
</div>
</div>
<div id="links-modules" class="section level3" number="1.1.3">
<h3>
<span class="header-section-number">1.1.3</span> Links to other modules<a class="anchor" aria-label="anchor" href="#links-modules"><i class="fas fa-link"></i></a>
</h3>
<p><em>Biomass_core</em> is intended to be used with data/calibration modules, disturbance
modules and validation modules, amongst others. The following is a list of the
modules most commonly used with <em>Biomass_core</em>. Not all are in the <a href="https://landr-manual.predictiveecology.org/">LandR
Manual</a>, but see each module’s
documentation (<code>.Rmd</code> file) available in its repository.</p>
<p>See <a href="https://rpubs.com/PredictiveEcology/LandR_Module_Ecosystem">here</a> for all
available modules and select <em>Biomass_core</em> from the drop-down menu to see
linkages.</p>
<p><strong>Data and calibration modules:</strong></p>
<ul>
<li><p><a href="https://github.com/PredictiveEcology/Biomass_speciesData"><em>Biomass_speciesData</em></a>:
grabs and merges several sources of species cover data, making species
percent cover (% cover) layers used by other LandR Biomass
modules. Default source data spans the entire Canadian territory;</p></li>
<li><p><a href="https://github.com/PredictiveEcology/Biomass_borealDataPrep"><em>Biomass_borealDataPrep</em></a>:
prepares all parameters and inputs (including initial landscape conditions)
that <em>Biomass_core</em> needs to run a realistic simulation. Default
values/inputs produced are relevant for boreal forests of Western Canada;</p></li>
<li><p><a href="https://github.com/PredictiveEcology/Biomass_speciesParameters"><em>Biomass_speciesParameters</em></a>:
calibrates four-species level traits using permanent sample plot data (i.e.,
repeated tree biomass measurements) across Western Canada.</p></li>
</ul>
<p><strong>Disturbance-related modules:</strong></p>
<ul>
<li><p><a href="https://github.com/PredictiveEcology/Biomass_regeneration"><em>Biomass_regeneration</em></a>:
simulates cohort biomass responses to stand-replacing fires (as in LBSE),
including cohort mortality and regeneration through resprouting and/or
serotiny;</p></li>
<li><p><a href="https://github.com/PredictiveEcology/Biomass_regenerationPM"><em>Biomass_regenerationPM</em></a>:
like <em>Biomass_regeneration</em>, but allowing partial mortality. Based on the
LANDIS-II Dynamic Fuels &amp; Fire System extension <span class="citation">(<a href="#ref-SturtevantEtAl2018" role="doc-biblioref">Sturtevant <em>et al.</em> 2018</a>)</span>;</p></li>
<li><p><em>fireSense</em>: climate- and land-cover-sensitive fire model simulating fire
ignition, escape and spread processes as a function of climate and
land-cover. Includes built-in parameterisation of these processes using
climate, land-cover, fire occurrence and fire perimeter data. Requires using
<em>Biomass_regeneration</em> or <em>Biomass_regenerationPM</em>. See modules prefixed
“<em>fireSense_</em>” at <a href="https://github.com/PredictiveEcology/" class="uri">https://github.com/PredictiveEcology/</a>;</p></li>
<li><p><a href="https://github.com/PredictiveEcology/LandMine"><em>LandMine</em></a>: wildfire
ignition and cover-sensitive wildfire spread model based on a fire return
interval input. Requires using <em>Biomass_regeneration</em> or
<em>Biomass_regenerationPM</em>;</p></li>
<li><p><a href="https://github.com/PredictiveEcology/scfm"><em>scfm</em></a>: spatially explicit fire
spread module parameterised and modelled as a stochastic three-part process
of ignition, escape, and spread. Requires using <em>Biomass_regeneration</em> or
<em>Biomass_regenerationPM</em>.</p></li>
</ul>
<p><strong>Validation modules:</strong></p>
<ul>
<li>
<a href="https://github.com/PredictiveEcology/Biomass_validationKNN"><em>Biomass_validationKNN</em></a>:
calculates two validation metrics (mean absolute deviation and sum of
negative log-likelihoods) on species presences/absences and biomass-related
properties across the simulated landscape. By default, it uses an
independent dataset of species % cover and stand biomass for
2011, assuming that this is a second snapshot of the landscape.</li>
</ul>
</div>
</div>
<div id="module-manual" class="section level2" number="1.2">
<h2>
<span class="header-section-number">1.2</span> Module manual<a class="anchor" aria-label="anchor" href="#module-manual"><i class="fas fa-link"></i></a>
</h2>
<div id="general-functioning" class="section level3" number="1.2.1">
<h3>
<span class="header-section-number">1.2.1</span> General functioning<a class="anchor" aria-label="anchor" href="#general-functioning"><i class="fas fa-link"></i></a>
</h3>
<p><em>Biomass_core</em> is a forest landscape model based on the LANDIS-II Biomass
Succession Extension v.3.2.1 model <span class="citation">(LBSE, <a href="#ref-SchellerMiranda2015" role="doc-biblioref">Scheller &amp; Miranda 2015b</a>)</span>. It is the core
forest succession model of the LandR ecosystem of <code>SpaDES</code> modules. Similarly to
LBSE, <em>Biomass_core</em> simulates changes in tree cohort aboveground biomass
(<span class="math inline">\(g/m^2\)</span>) by calculating growth, mortality and recruitment as functions of pixel
and species characteristics, competition and disturbances (Fig.
<a href="landr-biomass_core-module.html#fig:fig-Biomass-core">1.1</a>). Note that, by default, cohorts are unique
combinations of species and age, but this can be changed via the
<code>cohortDefinitionCols</code> parameter (see <a href="landr-biomass_core-module.html#params-list">List of parameters</a>).</p>
<p>Specifically, cohort growth is driven by both invariant (growth shape parameter,
<code>growthcurve</code>) and spatio-temporally varying species traits (maximum biomass,
<code>maxB</code>, and maximum annual net primary productivity, <code>maxANPP</code>), while
background mortality (i.e., not caused by disturbances) depends only on
invariant species traits (<code>longevity</code> and mortality shape parameter,
<code>mortalityshape</code>). All these five traits directly influence the realised shape
of species growth curves, by determining how fast they grow (<code>growthcurve</code> and
<code>maxANPP</code>), how soon age mortality starts with respect to longevity
(<code>mortalityshape</code>) and the biomass a cohort can potentially achieve (<code>maxB</code>).</p>
<p>Cohort recruitment is determined by available “space” (i.e., pixel shade),
invariant species traits (regeneration mode, <code>postfireregen</code>, age at maturity,
<code>sexualmature</code>, shade tolerance, <code>shadetolerance</code>) and a third spatio-temporally
varying trait (species establishment probability, <code>establishprob</code>, called SEP
hereafter). The available “growing space” is calculated as the species’ <code>maxB</code>
minus the occupied biomass (summed across other cohorts in the pixel). If there
is “space”, a cohort can establish from one of three recruitment modes:
serotiny, resprouting and germination.</p>
<p>Disturbances (e.g., fire) can cause cohort mortality and trigger
post-disturbance regeneration. Two post-disturbance regeneration mechanisms have
been implemented, following LBSE: serotiny and resprouting
<span class="citation">(<a href="#ref-SchellerMiranda2015" role="doc-biblioref">Scheller &amp; Miranda 2015b</a>)</span>. Post-disturbance mortality and regeneration only occur
in response to fire and are simulated in two separate, but interchangeable
modules, <em>Biomass_regeneration</em> and <em>Biomass_regenerationPM</em> that differ with
respect to the level of post-fire mortality they simulate (complete or partial
mortality, respectively).</p>
<p>Cohort germination (also called cohort establishment) occurs if seeds are
available from local sources (the pixel), or via seed dispersal. Seed dispersal
can be of three modes: ‘no dispersal’, ‘universal dispersal’ (arguably, only
interesting for dummy case studies) or ‘ward dispersal’ <span class="citation">(<a href="#ref-SchellerMiranda2015" role="doc-biblioref">Scheller &amp; Miranda 2015b</a>)</span>.
Briefly, the ‘ward dispersal’ algorithm describes a flexible kernel that
calculates the probability of a species colonising a neighbour pixel as a
function of distance from the source and dispersal-related (and invariant)
species traits, and is used by default.</p>
<p>Finally, both germination and regeneration success depend on the species’
probability of germination in a given pixel (<a href="landr-biomass_core-module.html#prob-germ">probabilities of
germination</a>).</p>
<p>We refer the reader to <span class="citation">Scheller &amp; Miranda (<a href="#ref-SchellerMiranda2015" role="doc-biblioref">2015b</a>)</span>, <span class="citation">Scheller &amp; Domingo (<a href="#ref-SchellerDomingo2011" role="doc-biblioref">2011</a>)</span> and
<span class="citation">Scheller &amp; Domingo (<a href="#ref-SchellerDomingo2012" role="doc-biblioref">2012</a>)</span> for further details with respect to the above mentioned
mechanisms implemented in <em>Biomass_core</em>. In a later section of this manual, we
highlight existing <a href="landr-biomass_core-module.html#biomass-core-vs-lbse">differences between <em>Biomass_core</em> and
LBSE</a>, together with <a href="landr-biomass_core-module.html#biomass-core-vs-lbse-comparisons">comparisons between the two
modules</a>.</p>
</div>
<div id="init-inputs-params" class="section level3" number="1.2.2">
<h3>
<span class="header-section-number">1.2.2</span> Initialisation, inputs and parameters<a class="anchor" aria-label="anchor" href="#init-inputs-params"><i class="fas fa-link"></i></a>
</h3>
<p>To initialise and simulate forest dynamics in any given landscape,
<em>Biomass_core</em> requires a number of inputs and parameters namely:</p>
<ul>
<li><p><a href="landr-biomass_core-module.html#initial-objs">initial cohort biomass and age</a> values across the landscape;</p></li>
<li><p><a href="landr-biomass_core-module.html#invariant-traits">invariant species traits</a> values;</p></li>
<li><p><a href="landr-biomass_core-module.html#varying-traits">spatio-temporally varying species traits</a> values (or just
spatially-varying);</p></li>
<li><p><a href="landr-biomass_core-module.html#ecolocation-traits">location- (ecolocation-) specific parameters</a>;</p></li>
<li><p>and the <a href="landr-biomass_core-module.html#prob-germ">probabilities of germination</a> given a species’ shade
tolerance and site shade.</p></li>
</ul>
<p>These are detailed below and in the <a href="landr-biomass_core-module.html#inputs-list">full list of input objects</a>.
The <em>Biomass_borealDataPrep</em> module manual also provides information about the
estimation of many of these traits/inputs from available data, or their
adjustment using published values or our best knowledge of boreal forest
dynamics in Western Canada.</p>
<p>Unlike the initialisation in LBSE<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a>, <em>Biomass_core</em> initialises
the simulation using data-derived initial cohort biomass and age. This
information is ideally supplied by data and calibration modules like
<em>Biomass_borealDataPrep</em> (<a href="landr-biomass_core-module.html#links-modules">Links to other modules</a>), but
<em>Biomass_core</em> can also initialise itself using theoretical data.</p>
<p>Similarly, although <em>Biomass_core</em> can create all necessary traits and
parameters using theoretical values, for realistic simulations these should be
provided by data and calibration modules, like <em>Biomass_borealDataPrep</em> and
<em>Biomass_speciesParameters</em>. We advise future users and developers to become
familiar with these data modules and then try to create their own modules (or
modify existing ones) for their purpose.</p>
<div id="initial-objs" class="section level4" number="1.2.2.1">
<h4>
<span class="header-section-number">1.2.2.1</span> Initial cohort biomass and age<a class="anchor" aria-label="anchor" href="#initial-objs"><i class="fas fa-link"></i></a>
</h4>
<p>Initial cohort biomass and age are derived from stand biomass (<code>biomassMap</code>
raster layer), stand age (<code>standAgeMap</code> raster layer) and species %
cover (<code>speciesLayers</code> raster layers) data (see Table
<a href="landr-biomass_core-module.html#tab:moduleInputs2-Biomass-core">1.5</a>) and formatted into the <code>cohortData</code>
object. The <code>cohortData</code> table is a central simulation object that tracks the
current year’s cohort biomass, age, mortality (lost biomass) and aboveground net
primary productivity (ANPP) per species and pixel group (<code>pixelGroup</code>). At the
start of the simulation, <code>cohortData</code> will not have any values of cohort
mortality or ANPP.</p>
<p>Each <code>pixelGroup</code> is a collection of pixels that share the same ecolocation
(coded in the <code>ecoregionMap</code> raster layer) and the same cohort composition. By
default, an ecolocation is a combination of land-cover and ecological zonation
(see <code>ecoregionMap</code> in the <a href="landr-biomass_core-module.html#inputs-list">full list of inputs</a>) and unique
cohort compositions are defined as unique combinations of species, age and
biomass. The <code>cohortData</code> table is therefore always associated with the current
year’s <code>pixelGroupMap</code> raster layer, which provides the spatial location of all
<code>pixelGroups</code>, allowing to “spatialise” cohort information and dynamics (e.g.,
dispersal) on a pixel by pixel basis (see also
<a href="landr-biomass_core-module.html#biomass-core-vs-lbse-enhan2">Hashing</a>).</p>
<p>The user, or another module, may provide initial <code>cohortData</code> and
<code>pixelGroupMap</code> objects to start the simulation, or the input objects necessary
to produce them: a study area polygon (<code>studyArea</code>), the <code>biomassMap</code>,
<code>standAgeMap</code>, <code>speciesLayers</code> and <code>ecoregionMap</code> raster layers (see the <a href="landr-biomass_core-module.html#inputs-list">list
of input objects</a> for more detail).</p>
</div>
<div id="invariant-traits" class="section level4" number="1.2.2.2">
<h4>
<span class="header-section-number">1.2.2.2</span> Invariant species traits<a class="anchor" aria-label="anchor" href="#invariant-traits"><i class="fas fa-link"></i></a>
</h4>
<p>These are spatio-temporally constant traits that mostly influence population
dynamics (e.g., growth, mortality, dispersal) and responses to fire (fire
tolerance and regeneration).</p>
<p>By default, <em>Biomass_core</em> obtains trait values from available LANDIS-II tables
(see Table <a href="landr-biomass_core-module.html#tab:moduleInputs2-Biomass-core">1.5</a>), but traits can be
adjusted/supplied by the user or by other modules. For instance, using
<em>Biomass_borealDataPrep</em> will adjust some trait values for Western Canadian
boreal forests <span class="citation">(e.g., longevity values are adjusted following <a href="#ref-BurtonCumming1995" role="doc-biblioref">Burton &amp; Cumming 1995a</a>)</span>, while using <em>Biomass_speciesParameters</em> calibrates the
<code>growthcurve</code> and <code>mortalityshape</code> parameters and estimates two additional
species traits (<code>inflationFactor</code> and <code>mANPPproportion</code>) to calibrate <code>maxB</code> and
<code>maxANPP</code> (respectively).</p>
<p>Table <a href="landr-biomass_core-module.html#tab:invariantSpptraits">1.1</a> shows an example of a table of invariant
species traits. Note that <em>Biomass_core</em> (alone) requires all the columns Table
<a href="landr-biomass_core-module.html#tab:invariantSpptraits">1.1</a> in to be present, with the exception of
<code>firetolerance</code>, <code>postfireregen</code>, <code>resproutprob</code>, <code>resproutage_min</code> and
<code>resproutage_max</code>, which are used by the post-fire regeneration modules
(<em>Biomass_regeneration</em> and <em>Biomass_regenerationPM</em>).</p>
<p>Please see <span class="citation">Scheller &amp; Domingo (<a href="#ref-SchellerDomingo2011" role="doc-biblioref">2011</a>)</span> and <span class="citation">Scheller &amp; Miranda (<a href="#ref-SchellerMiranda2015" role="doc-biblioref">2015b</a>)</span> for
further detail.</p>
<!--
::: fullwidth
| speciesCode | longevity | sexualmature | shadetolerance | firetolerance | postfireregen | resproutprob | resproutage_min | resproutage_max | seeddistance_eff | seeddistance_max | mortalityshape | growthcurve |
|:-------|:------|:------|:------|:------|:------|:------|:------|:------|:------|:------|:------|:------|
| Abie_sp     | 200       | 20           | 2.3            | 1             | none          | 0            | 0               | 0               | 25               | 100              | 15             | 0           |
| Pice_eng    | 460       | 30           | 2.1            | 2             | none          | 0            | 0               | 0               | 30               | 250              | 15             | 1.0         |
| Pice_gla    | 400       | 30           | 1.6            | 2             | none          | 0            | 0               | 0               | 100              | 303              | 15             | 1.0         |
| Pinu_sp     | 150       | 15           | 1              | 2             | serotiny      | 0            | 0               | 0               | 30               | 100              | 15             | 0           |
| Popu_sp     | 140       | 20           | 1              | 1             | resprout      | 0.5          | 10              | 70              | 200              | 5000             | 25             | 0           |
| Pseu_men    | 525       | 25           | 2              | 3             | none          | 0            | 0               | 0               | 100              | 500              | 15             | 1.0         |

: (#tab:invariantSpptraits) Example of an invariant species traits table (the
`species` table object in the module), with species *Abies sp.* (Abie_sp),
*Picea engelmannii* (Pice_eng), *Picea glauca* (Pice_gla), *Pinus sp.*
(Pinu_sp), *Populus sp.* (Popu_sp) and *Pseudotsuga menziesii* (Pseu_men). Note
that these are theoretical values.
:::
-->
<div class="inline-table"><table style="width:100%;" class="table table-sm">
<caption>
<span id="tab:invariantSpptraits">Table 1.1: </span>Example of an invariant species traits table (the <code>species</code> table object in the module), with species <em>Abies sp.</em> (Abie_sp), <em>Picea engelmannii</em> (Pice_eng), <em>Picea glauca</em> (Pice_gla), <em>Pinus sp.</em> (Pinu_sp), <em>Populus sp.</em> (Popu_sp) and <em>Pseudotsuga menziesii</em> (Pseu_men). Note that these are theoretical values.</caption>
<colgroup>
<col width="6%">
<col width="5%">
<col width="7%">
<col width="8%">
<col width="7%">
<col width="7%">
<col width="7%">
<col width="8%">
<col width="8%">
<col width="9%">
<col width="9%">
<col width="8%">
<col width="6%">
</colgroup>
<thead><tr class="header">
<th align="left">speciesCode</th>
<th align="right">longevity</th>
<th align="right">sexualmature</th>
<th align="right">shadetolerance</th>
<th align="right">firetolerance</th>
<th align="left">postfireregen</th>
<th align="right">resproutprob</th>
<th align="right">resproutage_min</th>
<th align="right">resproutage_max</th>
<th align="right">seeddistance_eff</th>
<th align="right">seeddistance_max</th>
<th align="right">mortalityshape</th>
<th align="right">growthcurve</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Abie_sp</td>
<td align="right">200</td>
<td align="right">20</td>
<td align="right">2.3</td>
<td align="right">1</td>
<td align="left">none</td>
<td align="right">0.0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">25</td>
<td align="right">100</td>
<td align="right">15</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Pice_eng</td>
<td align="right">460</td>
<td align="right">30</td>
<td align="right">2.1</td>
<td align="right">2</td>
<td align="left">none</td>
<td align="right">0.0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">30</td>
<td align="right">250</td>
<td align="right">15</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">Pice_gla</td>
<td align="right">400</td>
<td align="right">30</td>
<td align="right">1.6</td>
<td align="right">2</td>
<td align="left">none</td>
<td align="right">0.0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">100</td>
<td align="right">303</td>
<td align="right">15</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">Pinu_sp</td>
<td align="right">150</td>
<td align="right">15</td>
<td align="right">1.0</td>
<td align="right">2</td>
<td align="left">serotiny</td>
<td align="right">0.0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">30</td>
<td align="right">100</td>
<td align="right">15</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">Popu_sp</td>
<td align="right">140</td>
<td align="right">20</td>
<td align="right">1.0</td>
<td align="right">1</td>
<td align="left">resprout</td>
<td align="right">0.5</td>
<td align="right">10</td>
<td align="right">70</td>
<td align="right">200</td>
<td align="right">5000</td>
<td align="right">25</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">Pseu_men</td>
<td align="right">525</td>
<td align="right">25</td>
<td align="right">2.0</td>
<td align="right">3</td>
<td align="left">none</td>
<td align="right">0.0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">100</td>
<td align="right">500</td>
<td align="right">15</td>
<td align="right">1</td>
</tr>
</tbody>
</table></div>
</div>
<div id="varying-traits" class="section level4" number="1.2.2.3">
<h4>
<span class="header-section-number">1.2.2.3</span> Spatio-temporally varying species traits<a class="anchor" aria-label="anchor" href="#varying-traits"><i class="fas fa-link"></i></a>
</h4>
<p>These traits vary between species, by ecolocation and, potentially, by year if
the <code>year</code> column is not omitted and several years exist (in which case last
year’s values up to the current simulation year are always used). They are
maximum biomass, <code>maxB</code>, maximum above-ground net primary productivity,
<code>maxANPP</code>, and species establishment probability, SEP (called <code>establishprob</code> in
the module). By default, <em>Biomass_core</em> assigns theoretical values to these
traits, and thus we recommend using <em>Biomass_borealDataPrep</em> to obtain realistic
trait values derived from data (by default, pertinent for Canadian boreal forest
applications), or passing a custom table directly. <em>Biomass_speciesParameters</em>
further calibrates <code>maxB</code> and <code>maxANPP</code> by estimating two additional invariant
species traits (<code>inflationFactor</code> and <code>mANPPproportion</code>; also for Western
Canadian forests). See Table <a href="landr-biomass_core-module.html#tab:varyingSpptraits">1.2</a> for an example.</p>
<!--
| ecoregionGroup | speciesCode | establishprob | maxB  | maxANPP | year |
|:---------------|:------------|:--------------|:------|:--------|:-----|
| 1_03           | Abie_sp     | 1.000         | 8567  | 285     | 1    |
| 1_03           | Pice_eng    | 0.983         | 10156 | 305     | 1    |
| 1_03           | Popu_sp     | 0.737         | 8794  | 293     | 1    |
| 1_03           | Pseu_men    | 1.000         | 17534 | 132     | 1    |
| 1_09           | Abie_sp     | 0.112         | 1499  | 50      | 1    |
| 1_09           | Pice_gla    | 0.302         | 3143  | 102     | 1    |
| 1_09           | Pinu_sp     | 0.714         | 2569  | 86      | 1    |
| 1_09           | Popu_sp     | 0.607         | 3292  | 110     | 1    |
| 1_09           | Pseu_men    | 0.997         | 6020  | 45      | 1    |
| 1_03           | Abie_sp     | 0.989         | 8943  | 225     | 2    |
| 1_03           | Pice_eng    | 0.985         | 9000  | 315     | 2    |
| 1_03           | Popu_sp     | 0.600         | 8600  | 273     | 2    |
| 1_03           | Pseu_men    | 1.000         | 13534 | 142     | 2    |
| 1_09           | Abie_sp     | 0.293         | 2099  | 45      | 2    |
| 1_09           | Pice_gla    | 0.745         | 3643  | 90      | 2    |
| 1_09           | Pinu_sp     | 0.500         | 2569  | 80      | 2    |
| 1_09           | Popu_sp     | 0.670         | 3262  | 111     | 2    |
| 1_09           | Pseu_men    | 1.000         | 6300  | 43      | 2    |

: (#tab:varyingSpptraits) Example of a spatio-temporally varying species traits
table (the `speciesEcoregion` table object in the module), with two ecolocations
(called `ecoregionGroups`) and species *Abies sp.* (Abie_sp), *Picea
engelmannii* (Pice_eng), *Picea glauca* (Pice_gla), *Pinus sp.* (Pinu_sp),
*Populus sp.* (Popu_sp) and *Pseudotsuga menziesii* (Pseu_men). If a simulation
runs for 10 year using this table, trait values from year 2 would be used during
simulation years 2 through 10.
-->
<div class="inline-table"><table class="table table-sm">
<caption>
<span id="tab:varyingSpptraits">Table 1.2: </span>Example of a spatio-temporally varying species traits table (the <code>speciesEcoregion</code> table object in the module), with two ecolocations (called <code>ecoregionGroups</code>) and species <em>Abies sp.</em> (Abie_sp), <em>Picea engelmannii</em> (Pice_eng), <em>Picea glauca</em> (Pice_gla), <em>Pinus sp.</em> (Pinu_sp), <em>Populus sp.</em> (Popu_sp) and <em>Pseudotsuga menziesii</em> (Pseu_men). If a simulation runs for 10 year using this table, trait values from year 2 would be used during simulation years 2-10.</caption>
<thead><tr class="header">
<th align="left">ecoregionGroup</th>
<th align="left">speciesCode</th>
<th align="right">establishprob</th>
<th align="right">maxB</th>
<th align="right">maxANPP</th>
<th align="right">year</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">1_03</td>
<td align="left">Abie_sp</td>
<td align="right">1.000</td>
<td align="right">8567</td>
<td align="right">285</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">1_03</td>
<td align="left">Pice_eng</td>
<td align="right">0.983</td>
<td align="right">10156</td>
<td align="right">305</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">1_03</td>
<td align="left">Popu_sp</td>
<td align="right">0.737</td>
<td align="right">8794</td>
<td align="right">293</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">1_03</td>
<td align="left">Pseu_men</td>
<td align="right">1.000</td>
<td align="right">17534</td>
<td align="right">132</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">1_09</td>
<td align="left">Abie_sp</td>
<td align="right">0.112</td>
<td align="right">1499</td>
<td align="right">50</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">1_09</td>
<td align="left">Pice_gla</td>
<td align="right">0.302</td>
<td align="right">3143</td>
<td align="right">102</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">1_09</td>
<td align="left">Pinu_sp</td>
<td align="right">0.714</td>
<td align="right">2569</td>
<td align="right">86</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">1_09</td>
<td align="left">Popu_sp</td>
<td align="right">0.607</td>
<td align="right">3292</td>
<td align="right">110</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">1_09</td>
<td align="left">Pseu_men</td>
<td align="right">0.997</td>
<td align="right">6020</td>
<td align="right">45</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">1_03</td>
<td align="left">Abie_sp</td>
<td align="right">0.989</td>
<td align="right">8943</td>
<td align="right">225</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="left">1_03</td>
<td align="left">Pice_eng</td>
<td align="right">0.985</td>
<td align="right">9000</td>
<td align="right">315</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="left">1_03</td>
<td align="left">Popu_sp</td>
<td align="right">0.600</td>
<td align="right">8600</td>
<td align="right">273</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="left">1_03</td>
<td align="left">Pseu_men</td>
<td align="right">1.000</td>
<td align="right">13534</td>
<td align="right">142</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="left">1_09</td>
<td align="left">Abie_sp</td>
<td align="right">0.293</td>
<td align="right">2099</td>
<td align="right">45</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="left">1_09</td>
<td align="left">Pice_gla</td>
<td align="right">0.745</td>
<td align="right">3643</td>
<td align="right">90</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="left">1_09</td>
<td align="left">Pinu_sp</td>
<td align="right">0.500</td>
<td align="right">2569</td>
<td align="right">80</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="left">1_09</td>
<td align="left">Popu_sp</td>
<td align="right">0.670</td>
<td align="right">3262</td>
<td align="right">111</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="left">1_09</td>
<td align="left">Pseu_men</td>
<td align="right">1.000</td>
<td align="right">6300</td>
<td align="right">43</td>
<td align="right">2</td>
</tr>
</tbody>
</table></div>
</div>
<div id="ecolocation-traits" class="section level4" number="1.2.2.4">
<h4>
<span class="header-section-number">1.2.2.4</span> Ecolocation-specific parameters – minimum relative biomass<a class="anchor" aria-label="anchor" href="#ecolocation-traits"><i class="fas fa-link"></i></a>
</h4>
<p>Minimum relative biomass (<code>minRelativeB</code>) is the only ecolocation-specific
parameter used in <em>Biomass_core</em>. It is used to determine the shade level in
each pixel (i.e., site shade) with respect to the total potential maximum
biomass for that pixel (i.e., the sum of all <code>maxB</code> values in the pixel’s
ecolocation). If relative biomass in the stand (with regards to the total
potential maximum biomass) is above the minimum relative biomass thresholds, the
pixel is assigned that threshold’s site shade value <span class="citation">(<a href="#ref-SchellerMiranda2015" role="doc-biblioref">Scheller &amp; Miranda 2015b</a>)</span>.</p>
<p>The shade level then influences the germination and regeneration of new cohorts,
depending on their shade tolerance (see <a href="landr-biomass_core-module.html#prob-germ">Probabilities of
germination</a>).</p>
<p>Site shade varies from X0 (no shade) to X5 (maximum shade). By default,
<em>Biomass_core</em> uses the same minimum realtive biomass threshold values across
all ecolocations, adjusted from a <a href="https://github.com/dcyr/LANDIS-II_IA_generalUseFiles">publicly available LANDIS-II
table</a> to better reflect
Western Canada boreal forest dynamics (see Table <a href="landr-biomass_core-module.html#tab:minRelB">1.3</a>).
<em>Biomass_borealDataPrep</em> does the same adjustment by default. As with other
inputs, these values can be adjusted by using other modules or by passing
user-defined tables.</p>
<!--
| ecoregionGroup | X1   | X2   | X3  | X4   | X5   |
|:---------------|:-----|:-----|:----|:-----|:-----|
| 1_03           | 0.15 | 0.25 | 0.5 | 0.75 | 0.85 |
| 1_09           | 0.15 | 0.25 | 0.5 | 0.75 | 0.85 |

: (#tab:minRelB) Example of a minimum relative biomass table (the `minRelativeB`
table object in the module), with two ecolocations (`ecoregionGroups`) sharing
the same values.
-->
<div class="inline-table"><table class="table table-sm">
<caption>
<span id="tab:minRelB">Table 1.3: </span>Example of a minimum relative biomass table (the <code>minRelativeB</code> table object in the module), with two ecolocations (<code>ecoregionGroups</code>) sharing the same values</caption>
<thead><tr class="header">
<th align="left">ecoregionGroup</th>
<th align="right"></th>
<th align="right"></th>
<th align="right"></th>
<th align="right"></th>
<th align="right"></th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">1_03</td>
<td align="right">0.15</td>
<td align="right">0.25</td>
<td align="right">0.5</td>
<td align="right">0.75</td>
<td align="right">0.85</td>
</tr>
<tr class="even">
<td align="left">1_09</td>
<td align="right">0.15</td>
<td align="right">0.25</td>
<td align="right">0.5</td>
<td align="right">0.75</td>
<td align="right">0.85</td>
</tr>
</tbody>
</table></div>
</div>
<div id="prob-germ" class="section level4" number="1.2.2.5">
<h4>
<span class="header-section-number">1.2.2.5</span> Probabilities of germination<a class="anchor" aria-label="anchor" href="#prob-germ"><i class="fas fa-link"></i></a>
</h4>
<p>A species’ probability of germination results from the combination of its shade
tolerance level (an invariant species trait in the <code>species</code> table; Table
@(tab:invariantSpptraits)) and the site shade <span class="citation">(defined by the amount of
biomass in the pixel – see <a href="landr-biomass_core-module.html#ecolocation-traits" role="doc-biblioref">minimum relative biomass
parameter</a> and <a href="#ref-SchellerMiranda2015" role="doc-biblioref">Scheller &amp; Miranda 2015b</a>)</span>. By default, both
<em>Biomass_core</em> and <em>Biomass_borealDataPrep</em> use a publicly available LANDIS-II
table (called <code>sufficientLight</code> in the module; Table <a href="landr-biomass_core-module.html#tab:suffLight">1.4</a>).</p>
<!--
| species shade tolerance | X0  | X1  | X2  | X3  | X4  | X5  |
|:------------------------|:----|:----|:----|:----|:----|:----|
| 1                       | 1   | 0   | 0   | 0   | 0   | 0   |
| 2                       | 1   | 1   | 0   | 0   | 0   | 0   |
| 3                       | 1   | 1   | 1   | 0   | 0   | 0   |
| 4                       | 1   | 1   | 1   | 1   | 0   | 0   |
| 5                       | 0   | 0   | 1   | 1   | 1   | 1   |

: (#tab:suffLight) Default species probability of germination values used by
*Biomass_core* and *Biomass_borealDataPrep*. Columns X0-X5 are different site
shade levels and each line has the probability of germination for each site
shade and species shade tolerance combination.
-->
<div class="inline-table"><table class="table table-sm">
<caption>
<span id="tab:suffLight">Table 1.4: </span>Default species probability of germination values used by <em>Biomass_core</em> and <em>Biomass_borealDataPrep</em>. Columns X0-X5 are different site shade levels and each line has the probability of germination for each site shade and species shade tolerance combination.</caption>
<thead><tr class="header">
<th align="right">species shade tolerance</th>
<th align="right"></th>
<th align="right"></th>
<th align="right"></th>
<th align="right"></th>
<th align="right"></th>
<th align="right"></th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="right">4</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="right">5</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
</tr>
</tbody>
</table></div>
</div>
<div id="other-inputs" class="section level4" number="1.2.2.6">
<h4>
<span class="header-section-number">1.2.2.6</span> Other module inputs<a class="anchor" aria-label="anchor" href="#other-inputs"><i class="fas fa-link"></i></a>
</h4>
<p>The remaining module input objects either do not directly influence the basic
mechanisms implemented in <em>Biomass_core</em> (e.g., <code>sppColorVect</code> and
<code>studyAreaReporting</code> are only used for plotting purposes), are objects that keep
track of a property/process in the module (e.g., <code>lastReg</code> is a counter of the
last year when regeneration occurred), or define the study area for the
simulation (e.g., <code>studyArea</code> and <code>rasterToMatch</code>).</p>
<p>The next section provides a complete list of all input objects, including those
already mentioned above.</p>
</div>
</div>
<div id="inputs-list" class="section level3" number="1.2.3">
<h3>
<span class="header-section-number">1.2.3</span> List of input objects<a class="anchor" aria-label="anchor" href="#inputs-list"><i class="fas fa-link"></i></a>
</h3>
<p>All of <em>Biomass_core</em>’s input objects have (theoretical) defaults that are
produced automatically by the module<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a>. We suggest that new users
run <em>Biomass_core</em> by itself supplying only a <code>studyArea</code> polygon, before
attempting to supply their own or combining <em>Biomass_core</em> with other modules.
This will enable them to become familiar with all the input objects in a
theoretical setting.</p>
<p>Of the inputs listed in Table <a href="landr-biomass_core-module.html#tab:moduleInputs2-Biomass-core">1.5</a>, the
following are particularly important and deserve special attention:</p>
<p><strong>Spatial layers</strong></p>
<ul>
<li><p><code>ecoregionMap</code> – a raster layer with ecolocation IDs. Note that the term
“ecoregion” was inherited from LBSE and kept for consistency with original
LBSE code, but we prefer to call them ecolocations to avoid confusion with
the ecoregion-level classification of the <a href="https://open.canada.ca/data/en/dataset/3ef8e8a9-8d05-4fea-a8bf-7f5023d2b6e1">National Ecological
Classification of Canada
(NECC)</a>.
Ecolocations group pixels with similar biophysical conditions. By default,
we use two levels of grouping in our applications: the first level being an
ecological classification such as ecodistricts from the NECC, and the second
level is a land-cover classification. Hence, these ecolocations contain
relatively coarse scale regional information plus finer scale land cover
information. The <code>ecoregionMap</code> layer must be defined as a categorical
raster, with an associated Raster Attribute Table (RAT; see, e.g.,
<code><a href="https://rdrr.io/pkg/raster/man/factor.html">raster::ratify</a></code>). The RAT must contain the columns: <code>ID</code> (the value in the
raster layer), <code>ecoregion</code> (the first level of grouping) and
<code>ecoregionGroup</code> (the full ecolocation “name” written as
&lt;firstlevel_secondlevel&gt;). Note that if creating <code>ecoregionGroup</code>’s by
combining two raster layers whose values are numeric (as in
<em>Biomass_borealDataPrep</em>), the group label is a character combination of two
numeric grouping levels. For instance, if Natural Ecoregion <code>2</code> has
land-cover types <code>1</code>, <code>2</code> and <code>3</code>, the RAT will contain <code>ID = {1,2,3}</code>,
<code>ecoregion = {2}</code> and <code>ecoregionGroup = {2_1, 2_2, 2_3}</code>. However, the user
is free to use any groupings they wish. Finally, note that all ecolocations
(<code>ecoregionGroup</code>’s) are should be listed in the <code>ecoregion</code> table.</p></li>
<li><p><code>rasterToMatch</code> – a RasterLayer, with a given resolution and projection
determining the pixels (i.e., non-NA values) where forest dynamics will be
simulated. Needs to match <code>studyArea</code>. If not supplied, <em>Biomass_core</em>
attempts to produce it from <code>studyArea</code>, using <code>biomassMap</code> as the template
for spatial resolution and projection.</p></li>
<li><p><code>studyArea</code> – a <code>SpatialPolygonsDataFrame</code> with a single polygon
determining the where the simulation will take place. This is the only input
object that <strong>must be supplied by the user or another module</strong>.</p></li>
</ul>
<p><strong>Species traits and other parameter tables</strong></p>
<ul>
<li><p><code>ecoregion</code> – a <code>data.table</code> listing all ecolocation “names”
(<em>ecoregionGroup</em> column; see <code>ecoregionMap</code> above for details) and their
state (active – <code>yes</code> – or inactive – <code>no</code>)</p></li>
<li><p><code>minRelativeB</code> – a <code>data.table</code> of minimum relative biomass values. See
<a href="landr-biomass_core-module.html#ecolocation-traits">Ecolocation-specific parameters – minimum relative
biomass</a>.</p></li>
<li><p><code>species</code> – a <code>data.table</code> of <a href="landr-biomass_core-module.html#invariant-traits">invariant species
traits</a>.</p></li>
<li><p><code>speciesEcoregion</code> – a <code>data.table</code> of <a href="landr-biomass_core-module.html#varying-traits">spatio-temporally varying species
traits</a>.</p></li>
<li><p><code>sufficientLight</code> – a <code>data.table</code> defining the probability of germination
for a species, given its <code>shadetolerance</code> level (see <code>species</code> above) and
the shade level in the pixel (see <code>minRelativeB</code> above). See <a href="landr-biomass_core-module.html#prob-germ">Probabilities
of germination</a>.</p></li>
<li><p><code>sppEquiv</code> – a <code>data.table</code> of species name equivalences between various
conventions. It must contain the columns <em>LandR</em> (species IDs in the LandR
format), <em>EN_generic_short</em> (short generic species names in English – or
any other language – used for plotting), <em>Type</em> (type of species, <em>Conifer</em>
or <em>Deciduous</em>, as in “broadleaf”) and <em>Leading</em> (same as <em>EN_generic_short</em>
but with “leading” appended – e.g., “Poplar
leading”)<!-- we should add an assertion that checks whether these columns are present early on!!! -->.
See <code><a href="https://landr.predictiveecology.org/reference/sppEquivalencies_CA.html">?LandR::sppEquivalencies_CA</a></code> for more information.</p></li>
<li><p><code>sppColorVect</code> – character. A named vector of colours used to plot species
dynamics. Should contain one colour per species in the <code>species</code> table and,
potentially a colour for species mixtures (named “Mixed”). Vector names must
follow <code>species$speciesCode</code>.</p></li>
</ul>
<p><strong>Cohort-simulation-related objects</strong></p>
<ul>
<li><p><code>cohortData</code> – a <code>data.table</code> containing initial cohort information per
<code>pixelGroup</code> (see <code>pixelGroupMap</code> below). This table is updated during the
simulation as cohort dynamics are simulated. It must contain the following
columns:</p></li>
<li><p><em>pixelGroup</em> – integer. <em>pixelGroup</em> ID. See
<a href="landr-biomass_core-module.html#biomass-core-vs-lbse-enhan2">Hashing</a>.</p></li>
<li><p><em>ecoregionGroup</em> – character. Ecolocation names. See <code>ecoregionMap</code> and
<code>ecoregion</code> objects above.</p></li>
<li><p><em>speciesCode</em> – character. Species ID.</p></li>
<li><p><em>age</em> – integer. Cohort age.</p></li>
<li><p><em>B</em> – integer. Cohort biomass of the current year in <span class="math inline">\(g/m^2\)</span>.</p></li>
<li><p><em>mortality</em> – integer. Cohort dead biomass of the current year in
<span class="math inline">\(g/m^2\)</span>. Usually filled with 0s in initial conditions.</p></li>
<li><p><em>aNPPAct</em> – integer. Actual aboveground net primary productivity of the
current year in <span class="math inline">\(g/m^2\)</span>. <code>B</code> is the result of the previous year’s <code>B</code>
minus the current year’s <code>mortality</code> plus <code>aNPPAct</code>. Usually filled with
0s in initial conditions. See “<em>1.1.3 Cohort growth and ageing</em>” section
of <span class="citation">Scheller &amp; Miranda (<a href="#ref-SchellerMiranda2015" role="doc-biblioref">2015b</a>)</span>.</p></li>
<li><p><code>pixelGroupMap</code> – a raster layer with <code>pixelGroup</code> IDs per pixel. Pixels
are always grouped based on identical <code>ecoregionGroup</code>, <code>speciesCode</code>, <code>age</code>
and <code>B</code> composition, even if the user supplies other initial groupings
(e.g., this is possible in the <em>Biomass_borealDataPrep</em> data module).
<!-- may be revised in following versions--></p></li>
</ul>
<div class="inline-table"><table class="table table-sm">
<caption>
<span id="tab:moduleInputs2-Biomass-core">Table 1.5: </span>List of <em>Biomass_core</em> input objects and their description.</caption>
<colgroup>
<col width="4%">
<col width="3%">
<col width="71%">
<col width="20%">
</colgroup>
<thead><tr class="header">
<th align="left">objectName</th>
<th align="left">objectClass</th>
<th align="left">desc</th>
<th align="left">sourceURL</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">biomassMap</td>
<td align="left">RasterLayer</td>
<td align="left">total biomass raster layer in study area (in g/m^2), filtered for pixels covered by cohortData. Only used if <code>P(sim)$initialBiomassSource == 'biomassMap'</code>, which is currently deactivated.</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">cceArgs</td>
<td align="left">list</td>
<td align="left">a list of quoted objects used by the <code>growthAndMortalityDriver</code> <code>calculateClimateEffect</code> function</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">cohortData</td>
<td align="left">data.table</td>
<td align="left">
<code>data.table</code> with cohort-level information on age and biomass, by pixelGroup and ecolocation (i.e., <code>ecoregionGroup</code>). If supplied, it must have the following columns: <code>pixelGroup</code> (integer), <code>ecoregionGroup</code> (factor), <code>speciesCode</code> (factor), <code>B</code> (integer in g/m^2), <code>age</code> (integer in years)</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">ecoregion</td>
<td align="left">data.table</td>
<td align="left">ecoregion look up table</td>
<td align="left"><a href="https://raw.githubusercontent.com/LANDIS-II-Foundation/Extensions-Succession/master/biomass-succession-archive/trunk/tests/v6.0-2.0/ecoregions.txt" class="uri">https://raw.githubusercontent.com/LANDIS-II-Foundation/Extensions-Succession/master/biomass-succession-archive/trunk/tests/v6.0-2.0/ecoregions.txt</a></td>
</tr>
<tr class="odd">
<td align="left">ecoregionMap</td>
<td align="left">RasterLayer</td>
<td align="left">ecoregion map that has mapcodes match ecoregion table and <code>speciesEcoregion</code> table. Defaults to a dummy map matching <code>rasterToMatch</code> with two regions</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">lastReg</td>
<td align="left">numeric</td>
<td align="left">an internal counter keeping track of when the last regeneration event occurred</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">minRelativeB</td>
<td align="left">data.frame</td>
<td align="left">table defining the relative biomass cut points to classify stand shadeness.</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">pixelGroupMap</td>
<td align="left">RasterLayer</td>
<td align="left">a raster layer with <code>pixelGroup</code> IDs per pixel. Pixels are grouped based on identical <code>ecoregionGroup</code>, <code>speciesCode</code>, <code>age</code> and <code>B</code> composition, even if the user supplies other initial groupings (e.g., via the <code>Biomass_borealDataPrep</code> module.</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">rasterToMatch</td>
<td align="left">RasterLayer</td>
<td align="left">a raster of the <code>studyArea</code> in the same resolution and projection as <code>biomassMap</code>
</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">species</td>
<td align="left">data.table</td>
<td align="left">a table of invariant species traits with the following trait colums: ‘species’, ‘Area’, ‘longevity’, ‘sexualmature’, ‘shadetolerance’, ‘firetolerance’, ‘seeddistance_eff’, ‘seeddistance_max’, ‘resproutprob’, ‘mortalityshape’, ‘growthcurve’, ‘resproutage_min’, ‘resproutage_max’, ‘postfireregen’, ‘wooddecayrate’, ‘leaflongevity’ ‘leafLignin’, ‘hardsoft’. The last seven traits are not used in Biomass_core , and may be ommited. However, this may result in downstream issues with other modules. Default is from Dominic Cyr and Yan Boulanger’s project</td>
<td align="left"><a href="https://raw.githubusercontent.com/dcyr/LANDIS-II_IA_generalUseFiles/master/speciesTraits.csv" class="uri">https://raw.githubusercontent.com/dcyr/LANDIS-II_IA_generalUseFiles/master/speciesTraits.csv</a></td>
</tr>
<tr class="odd">
<td align="left">speciesEcoregion</td>
<td align="left">data.table</td>
<td align="left">table of spatially-varying species traits (<code>maxB</code>, <code>maxANPP</code>, <code>establishprob</code>), defined by species and <code>ecoregionGroup</code>) Defaults to a dummy table based on dummy data os biomass, age, ecoregion and land cover class</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">speciesLayers</td>
<td align="left">RasterStack</td>
<td align="left">percent cover raster layers of tree species in Canada. Defaults to the Canadian Forestry Service, National Forest Inventory, kNN-derived species cover maps from 2001 using a cover threshold of 10 - see <a href="https://open.canada.ca/data/en/dataset/ec9e2659-1c29-4ddb-87a2-6aced147a990" class="uri">https://open.canada.ca/data/en/dataset/ec9e2659-1c29-4ddb-87a2-6aced147a990</a> for metadata</td>
<td align="left"><a href="http://ftp.maps.canada.ca/pub/nrcan_rncan/Forests_Foret/canada-forests-attributes_attributs-forests-canada/2001-attributes_attributs-2001/" class="uri">http://ftp.maps.canada.ca/pub/nrcan_rncan/Forests_Foret/canada-forests-attributes_attributs-forests-canada/2001-attributes_attributs-2001/</a></td>
</tr>
<tr class="odd">
<td align="left">sppColorVect</td>
<td align="left">character</td>
<td align="left">A named vector of colors to use for plotting. The names must be in <code>sim$sppEquiv[[sim$sppEquivCol]]</code>, and should also contain a color for ‘Mixed’</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">sppEquiv</td>
<td align="left">data.table</td>
<td align="left">table of species equivalencies. See <code><a href="https://landr.predictiveecology.org/reference/sppEquivalencies_CA.html">LandR::sppEquivalencies_CA</a></code>.</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">studyArea</td>
<td align="left">SpatialPolygonsDataFrame</td>
<td align="left">Polygon to use as the study area. Must be provided by the user</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">studyAreaReporting</td>
<td align="left">SpatialPolygonsDataFrame</td>
<td align="left">multipolygon (typically smaller/unbuffered than studyArea) to use for plotting/reporting. Defaults to <code>studyArea</code>.</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">sufficientLight</td>
<td align="left">data.frame</td>
<td align="left">table defining how the species with different shade tolerance respond to stand shade. Default is based on LANDIS-II Biomass Succession v6.2 parameters</td>
<td align="left"><a href="https://raw.githubusercontent.com/LANDIS-II-Foundation/Extensions-Succession/master/biomass-succession-archive/trunk/tests/v6.0-2.0/biomass-succession_test.txt" class="uri">https://raw.githubusercontent.com/LANDIS-II-Foundation/Extensions-Succession/master/biomass-succession-archive/trunk/tests/v6.0-2.0/biomass-succession_test.txt</a></td>
</tr>
<tr class="even">
<td align="left">treedFirePixelTableSinceLastDisp</td>
<td align="left">data.table</td>
<td align="left">3 columns: <code>pixelIndex</code>, <code>pixelGroup</code>, and <code>burnTime</code>. Each row represents a forested pixel that was burned up to and including this year, since last dispersal event, with its corresponding <code>pixelGroup</code> and time it occurred</td>
<td align="left">NA</td>
</tr>
</tbody>
</table></div>
</div>
<div id="params-list" class="section level3" number="1.2.4">
<h3>
<span class="header-section-number">1.2.4</span> List of parameters<a class="anchor" aria-label="anchor" href="#params-list"><i class="fas fa-link"></i></a>
</h3>
<p>In addition to the above inputs objects, <em>Biomass_core</em> uses several
parameters<a href="#fn3" class="footnote-ref" id="fnref3"><sup>3</sup></a> that control aspects like the simulation length, the
“succession” time step, plotting and saving intervals, amongst others. Note that
a few of these parameters are only relevant when simulating climate effects of
cohort growth and mortality, which require also loading the <code>LandR.CS</code> R
package<a href="#fn4" class="footnote-ref" id="fnref4"><sup>4</sup></a> (or another similar package). These are not discussed
in detail here, since climate effects are calculated externally to
<em>Biomass_core</em> in <code>LandR.CS</code> functions and thus documented there.</p>
<p>A list of useful parameters and their description is listed below, while the
full set of parameters is in Table <a href="landr-biomass_core-module.html#tab:moduleParams2-Biomass-core">1.6</a>. Like
with input objects, default values are supplied for all parameters and we
suggest the user becomes familiarized with them before attempting any changes.
We also note that the <code>"spin-up"</code> and <code>"biomassMap"</code> options for the
<code>initialBiomassSource</code> parameter are currently deactivated, since <em>Biomass_core</em>
no longer generates initial cohort biomass conditions using a spin-up based on
initial stand age like LANDIS-II (<code>"spin-up"</code>), nor does it attempt to fill
initial cohort biomasses using <code>biomassMap</code>.</p>
<p><strong>Plotting and saving</strong> - <code>.plots</code> – activates/deactivates plotting and defines
type of plotting (see <code>?Plots</code>);</p>
<ul>
<li><p><code>.plotInitialTime</code> – defines when plotting starts;</p></li>
<li><p><code>.plotInterval</code> – defines plotting frequency;</p></li>
<li><p><code>.plotMaps</code> – activates/deactivates map plotting;</p></li>
<li><p><code>.saveInitialTime</code> – defines when saving starts;</p></li>
<li><p><code>.saveInterval</code> – defines saving frequency;</p></li>
</ul>
<p><strong>Simulation</strong></p>
<ul>
<li><p><code>seedingAlgorithm</code> – dispersal type (see above);</p></li>
<li><p><code>successionTimestep</code> – defines frequency of dispersal/local recruitment
event (growth and mortality are always yearly);</p></li>
</ul>
<p><strong>Other</strong><br>
- <code>mixedType</code> – how mixed forest stands are defined;</p>
<ul>
<li>
<code>vegLeadingProportion</code> – relative biomass threshold to consider a species
“leading” (i.e., dominant);</li>
</ul>
<div class="inline-table"><table class="table table-sm">
<caption>
<span id="tab:moduleParams2-Biomass-core">Table 1.6: </span>List of <em>Biomass_core</em> parameters and their description.</caption>
<colgroup>
<col width="3%">
<col width="1%">
<col width="1%">
<col width="0%">
<col width="0%">
<col width="91%">
</colgroup>
<thead><tr class="header">
<th align="left">paramName</th>
<th align="left">paramClass</th>
<th align="left">default</th>
<th align="left">min</th>
<th align="left">max</th>
<th align="left">paramDesc</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">calcSummaryBGM</td>
<td align="left">character</td>
<td align="left">end</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">A character vector describing when to calculate the summary of biomass, growth and mortality Currently any combination of 5 options is possible: ‘start’- as before vegetation succession events, i.e. before dispersal, ‘postDisp’ - after dispersal, ‘postRegen’ - after post-disturbance regeneration (currently the same as ‘start’), ‘postGM’ - after growth and mortality, ‘postAging’ - after aging, ‘end’ - at the end of vegetation succesion events, before plotting and saving. The ‘end’ option is always active, being also the default option. If NULL, then will skip all summaryBGM related events</td>
</tr>
<tr class="even">
<td align="left">calibrate</td>
<td align="left">logical</td>
<td align="left">FALSE</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">Do calibration? Defaults to <code>FALSE</code>
</td>
</tr>
<tr class="odd">
<td align="left">cohortDefinitionCols</td>
<td align="left">character</td>
<td align="left">pixelGro….</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">
<code>cohortData</code> columns that determine what constitutes a cohort This parameter should only be modified if additional modules are adding columns to cohortData</td>
</tr>
<tr class="even">
<td align="left">cutpoint</td>
<td align="left">numeric</td>
<td align="left">1e+10</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">A numeric scalar indicating how large each chunk of an internal data.table is, when processing by chunks</td>
</tr>
<tr class="odd">
<td align="left">gmcsGrowthLimits</td>
<td align="left">numeric</td>
<td align="left">66.66666….</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">if using <code>LandR.CS</code> for climate-sensitive growth and mortality, a percentile is used to estimate the effect of climate on growth/mortality (currentClimate/referenceClimate). Upper and lower limits are suggested to circumvent problems caused by very small denominators as well as predictions outside the data range used to generate the model</td>
</tr>
<tr class="even">
<td align="left">gmcsMortLimits</td>
<td align="left">numeric</td>
<td align="left">66.66666….</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">if using <code>LandR.CS</code> for climate-sensitive growth and mortality, a percentile is used to estimate the effect of climate on growth/mortality (currentClimate/referenceClimate). Upper and lower limits are suggested to circumvent problems caused by very small denominators as well as predictions outside the data range used to generate the model</td>
</tr>
<tr class="odd">
<td align="left">gmcsMinAge</td>
<td align="left">numeric</td>
<td align="left">21</td>
<td align="left">0</td>
<td align="left">NA</td>
<td align="left">if using <code>LandR.CS</code> for climate-sensitive growth and mortality, the minimum age for which to predict climate-sensitive growth and mortality. Young stands (&lt; 30) are poorly represented by the PSP data used to parameterize the model.</td>
</tr>
<tr class="even">
<td align="left">growthAndMortalityDrivers</td>
<td align="left">character</td>
<td align="left">LandR</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">package name where the following functions can be found: <code>calculateClimateEffect</code>, <code>assignClimateEffect</code> (see <code>LandR.CS</code> for climate sensitivity equivalent functions, or leave default if this is not desired)</td>
</tr>
<tr class="odd">
<td align="left">growthInitialTime</td>
<td align="left">numeric</td>
<td align="left">start(sim)</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">Initial time for the growth event to occur</td>
</tr>
<tr class="even">
<td align="left">initialB</td>
<td align="left">numeric</td>
<td align="left">10</td>
<td align="left">1</td>
<td align="left">NA</td>
<td align="left">initial biomass values of new age-1 cohorts</td>
</tr>
<tr class="odd">
<td align="left">initialBiomassSource</td>
<td align="left">character</td>
<td align="left">cohortData</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">Currently, there are three options: ‘spinUp’, ‘cohortData’, ‘biomassMap’. If ‘spinUp’, it will derive biomass by running spinup derived from Landis-II. If ‘cohortData’, it will be taken from the <code>cohortData</code> object, i.e., it is already correct, by cohort. If ‘biomassMap’, it will be taken from <code>sim$biomassMap</code>, divided across species using <code>sim$speciesLayers</code> percent cover values ‘spinUp’ uses <code>sim$standAgeMap</code> as the driver, so biomass is an output . That means it will be unlikely to match any input information about biomass, unless this is set to ‘biomassMap’, and a <code>sim$biomassMap</code> is supplied. Only the ‘cohortData’ option is currently active.</td>
</tr>
<tr class="even">
<td align="left">keepClimateCols</td>
<td align="left">logical</td>
<td align="left">FALSE</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">include growth and mortality predictions in <code>cohortData</code>?</td>
</tr>
<tr class="odd">
<td align="left">minCohortBiomass</td>
<td align="left">numeric</td>
<td align="left">0</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">cohorts with biomass below this threshold (in g/m^2) are removed. Not a LANDIS-II BSE parameter.</td>
</tr>
<tr class="even">
<td align="left">mixedType</td>
<td align="left">numeric</td>
<td align="left">2</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">How to define mixed stands: 1 for any species admixture; 2 for deciduous &gt; conifer. See <code><a href="https://landr.predictiveecology.org/reference/vegTypeMapGenerator.html">?LandR::vegTypeMapGenerator</a></code>.</td>
</tr>
<tr class="odd">
<td align="left">plotOverstory</td>
<td align="left">logical</td>
<td align="left">FALSE</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">swap max age plot with overstory biomass</td>
</tr>
<tr class="even">
<td align="left">seedingAlgorithm</td>
<td align="left">character</td>
<td align="left">wardDisp….</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">choose which seeding algorithm will be used among ‘noSeeding’ (no horizontal, nor vertical seeding - not in LANDIS-II BSE), ‘noDispersal’ (no horizontal seeding), ‘universalDispersal’ (seeds disperse to any pixel), and ‘wardDispersal’ (default; seeds disperse according to distance and dispersal traits). See Scheller &amp; Miranda (2015) - Biomass Succession extension, v3.2.1 User Guide</td>
</tr>
<tr class="odd">
<td align="left">spinupMortalityfraction</td>
<td align="left">numeric</td>
<td align="left">0.001</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">defines the mortality loss fraction in spin up-stage simulation. Only used if <code>P(sim)$initialBiomassSource == 'biomassMap'</code>, which is currently deactivated.</td>
</tr>
<tr class="even">
<td align="left">sppEquivCol</td>
<td align="left">character</td>
<td align="left">Boreal</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">The column in <code>sim$sppEquiv</code> data.table to use as a naming convention</td>
</tr>
<tr class="odd">
<td align="left">successionTimestep</td>
<td align="left">numeric</td>
<td align="left">10</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">defines the simulation time step, default is 10 years. Note that growth and mortality always happen on a yearly basis. Cohorts younger than this age will not be included in competitive interactions</td>
</tr>
<tr class="even">
<td align="left">vegLeadingProportion</td>
<td align="left">numeric</td>
<td align="left">0.8</td>
<td align="left">0</td>
<td align="left">1</td>
<td align="left">a number that defines whether a species is leading for a given pixel</td>
</tr>
<tr class="odd">
<td align="left">.maxMemory</td>
<td align="left">numeric</td>
<td align="left">5</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">maximum amount of memory (in GB) to use for dispersal calculations.</td>
</tr>
<tr class="even">
<td align="left">.plotInitialTime</td>
<td align="left">numeric</td>
<td align="left">start(sim)</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">Vector of length = 1, describing the simulation time at which the first plot event should occur. To plotting off completely use <code>P(sim)$.plots</code>.</td>
</tr>
<tr class="odd">
<td align="left">.plotInterval</td>
<td align="left">numeric</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">defines the plotting time step. If <code>NA</code>, the default, .plotInterval is set to successionTimestep.</td>
</tr>
<tr class="even">
<td align="left">.plots</td>
<td align="left">character</td>
<td align="left">object</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">Passed to <code>types</code> in <code>Plots</code> (see <code>?Plots</code>). There are a few plots that are made within this module, if set. Note that plots (or their data) saving will ONLY occur at <code>end(sim)</code>. If <code>NA</code>, plotting is turned off completely (this includes plot saving).</td>
</tr>
<tr class="odd">
<td align="left">.plotMaps</td>
<td align="left">logical</td>
<td align="left">TRUE</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">Controls whether maps should be plotted or not. Set to <code>FALSE</code> if <code>P(sim)$.plots == NA</code>
</td>
</tr>
<tr class="even">
<td align="left">.saveInitialTime</td>
<td align="left">numeric</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">Vector of length = 1, describing the simulation time at which the first save event should occur. Set to <code>NA</code> if no saving is desired. If not <code>NA</code>, then saving will occur at <code>P(sim)$.saveInitialTime</code> with a frequency equal to <code>P(sim)$.saveInterval</code>
</td>
</tr>
<tr class="odd">
<td align="left">.saveInterval</td>
<td align="left">numeric</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">defines the saving time step. If <code>NA</code>, the default, .saveInterval is set to <code>P(sim)$successionTimestep</code>.</td>
</tr>
<tr class="even">
<td align="left">.studyAreaName</td>
<td align="left">character</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">Human-readable name for the study area used. If <code>NA</code>, a hash of <code>studyArea</code> will be used.</td>
</tr>
<tr class="odd">
<td align="left">.useCache</td>
<td align="left">character</td>
<td align="left">.inputOb….</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">Internal. Can be names of events or the whole module name; these will be cached by <code>SpaDES</code>
</td>
</tr>
<tr class="even">
<td align="left">.useParallel</td>
<td align="left">ANY</td>
<td align="left">2</td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">Used only in seed dispersal. If numeric, it will be passed to <code><a href="https://Rdatatable.gitlab.io/data.table/reference/openmp-utils.html">data.table::setDTthreads</a></code> and should be &lt;= 2; If <code>TRUE</code>, it will be passed to <code><a href="https://rdrr.io/r/parallel/makeCluster.html">parallel::makeCluster</a></code>; and if a cluster object, it will be passed to <code>parallel::parClusterApplyB</code>.</td>
</tr>
</tbody>
</table></div>
</div>
<div id="outputs-list" class="section level3" number="1.2.5">
<h3>
<span class="header-section-number">1.2.5</span> List of outputs<a class="anchor" aria-label="anchor" href="#outputs-list"><i class="fas fa-link"></i></a>
</h3>
<p>The main outputs of <em>Biomass_core</em> are the <code>cohortData</code> and <code>pixelGroupMap</code>
containing cohort information per year (note that they are not saved by
default), visual outputs of species level biomass, age and dominance across the
landscape and the simulation length, and several maps of stand biomass,
mortality and reproductive success (i.e, new biomass) on a yearly basis.</p>
<p>However, any of the objects changed/output by <em>Biomass_core</em> (listed in Table
<a href="landr-biomass_core-module.html#tab:moduleOutputs-Biomass-core">1.7</a>) can be saved via the <code>outputs</code> argument
in <code>simInit</code><a href="#fn5" class="footnote-ref" id="fnref5"><sup>5</sup></a>.</p>
<div class="inline-table"><table class="table table-sm">
<caption>
<span id="tab:moduleOutputs-Biomass-core">Table 1.7: </span>List of <em>Biomass_core</em> output objects and their description.</caption>
<colgroup>
<col width="5%">
<col width="1%">
<col width="92%">
</colgroup>
<thead><tr class="header">
<th align="left">objectName</th>
<th align="left">objectClass</th>
<th align="left">desc</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">activePixelIndex</td>
<td align="left">integer</td>
<td align="left">internal use. Keeps track of which pixels are active</td>
</tr>
<tr class="even">
<td align="left">activePixelIndexReporting</td>
<td align="left">integer</td>
<td align="left">internal use. Keeps track of which pixels are active in the reporting study area</td>
</tr>
<tr class="odd">
<td align="left">ANPPMap</td>
<td align="left">RasterLayer</td>
<td align="left">ANPP map at each succession time step (in g /m^2)</td>
</tr>
<tr class="even">
<td align="left">cohortData</td>
<td align="left">data.table</td>
<td align="left">
<code>data.table</code> with cohort-level information on age, biomass, aboveground primary productivity (year’s biomass gain) and mortality (year’s biomass loss), by <code>pixelGroup</code> and ecolocation (i.e., <code>ecoregionGroup</code>). Contains at least the following columns: <code>pixelGroup</code> (integer), <code>ecoregionGroup</code> (factor), <code>speciesCode</code> (factor), <code>B</code> (integer in g/m^2), <code>age</code> (integer in years), <code>mortality</code> (integer in g/m^2), <code>aNPPAct</code> (integer in g/m^2). May have other columns depending on additional simulated processes (i.e., cliamte sensitivity; see, e.g., <code>P(sim)$keepClimateCols</code>).</td>
</tr>
<tr class="odd">
<td align="left">ecoregionMap</td>
<td align="left">RasterLayer</td>
<td align="left">map with mapcodes match <code>ecoregion</code> table and <code>speciesEcoregion</code> table. Defaults to a dummy map matching rasterToMatch with two regions</td>
</tr>
<tr class="even">
<td align="left">inactivePixelIndex</td>
<td align="left">logical</td>
<td align="left">internal use. Keeps track of which pixels are inactive</td>
</tr>
<tr class="odd">
<td align="left">inactivePixelIndexReporting</td>
<td align="left">integer</td>
<td align="left">internal use. Keeps track of which pixels are inactive in the reporting study area</td>
</tr>
<tr class="even">
<td align="left">lastFireYear</td>
<td align="left">numeric</td>
<td align="left">Year of the most recent fire year</td>
</tr>
<tr class="odd">
<td align="left">lastReg</td>
<td align="left">numeric</td>
<td align="left">an internal counter keeping track of when the last regeneration event occurred</td>
</tr>
<tr class="even">
<td align="left">minRelativeB</td>
<td align="left">data.frame</td>
<td align="left">define the relative biomass cut points to classify stand shade</td>
</tr>
<tr class="odd">
<td align="left">mortalityMap</td>
<td align="left">RasterLayer</td>
<td align="left">map of biomass lost (in g/m^2) at each succession time step</td>
</tr>
<tr class="even">
<td align="left">pixelGroupMap</td>
<td align="left">RasterLayer</td>
<td align="left">updated community map at each succession time step</td>
</tr>
<tr class="odd">
<td align="left">regenerationOutput</td>
<td align="left">data.table</td>
<td align="left">If <code>P(sim)$calibrate == TRUE</code>, an summary of seed dispersal and germination success (i.e., number of pixels where seeds successfully germinated) per species and year.</td>
</tr>
<tr class="even">
<td align="left">reproductionMap</td>
<td align="left">RasterLayer</td>
<td align="left">Regeneration map (biomass gains in g/m^2) at each succession time step</td>
</tr>
<tr class="odd">
<td align="left">simulatedBiomassMap</td>
<td align="left">RasterLayer</td>
<td align="left">Biomass map at each succession time step (in g/m^2)</td>
</tr>
<tr class="even">
<td align="left">simulationOutput</td>
<td align="left">data.table</td>
<td align="left">contains simulation results by <code>ecoregionGroup</code> (main output)</td>
</tr>
<tr class="odd">
<td align="left">simulationTreeOutput</td>
<td align="left">data.table</td>
<td align="left">Summary of several characteristics about the stands, derived from <code>cohortData</code>
</td>
</tr>
<tr class="even">
<td align="left">species</td>
<td align="left">data.table</td>
<td align="left">a table that has species traits such as longevity, shade tolerance, etc. Currently obtained from LANDIS-II Biomass Succession v.6.0-2.0 inputs</td>
</tr>
<tr class="odd">
<td align="left">speciesEcoregion</td>
<td align="left">data.table</td>
<td align="left">define the maxANPP, maxB and SEP change with both ecoregion and simulation time</td>
</tr>
<tr class="even">
<td align="left">speciesLayers</td>
<td align="left">RasterStack</td>
<td align="left">species percent cover raster layers, based on input <code>speciesLayers</code> object. Not changed by this module.</td>
</tr>
<tr class="odd">
<td align="left">spinupOutput</td>
<td align="left">data.table</td>
<td align="left">Spin-up output. Currently deactivated.</td>
</tr>
<tr class="even">
<td align="left">summaryBySpecies</td>
<td align="left">data.table</td>
<td align="left">The total species biomass (in g/m^2 as in <code>cohortData</code>), average age and aNPP (in g/m^2 as in <code>cohortData</code>), across the landscape (used for plotting and reporting).</td>
</tr>
<tr class="odd">
<td align="left">summaryBySpecies1</td>
<td align="left">data.table</td>
<td align="left">No. pixels of each leading vegetation type (used for plotting and reporting).</td>
</tr>
<tr class="even">
<td align="left">summaryLandscape</td>
<td align="left">data.table</td>
<td align="left">The averages of total biomass (in tonnes/ha , not g/m^2 like in <code>cohortData</code>), age and aNPP (also in tonnes/ha) across the landscape (used for plotting and reporting).</td>
</tr>
<tr class="odd">
<td align="left">treedFirePixelTableSinceLastDisp</td>
<td align="left">data.table</td>
<td align="left">3 columns: <code>pixelIndex</code>, <code>pixelGroup</code>, and <code>burnTime</code>. Each row represents a forested pixel that was burned up to and including this year, since last dispersal event, with its corresponding <code>pixelGroup</code> and time it occurred</td>
</tr>
<tr class="even">
<td align="left">vegTypeMap</td>
<td align="left">RasterLayer</td>
<td align="left">Map of leading species in each pixel, colored according to <code>sim$sppColorVect</code>. Species mixtures calculated according to <code>P(sim)$vegLeadingProportion</code> and <code>P(sim)$mixedType</code>.</td>
</tr>
</tbody>
</table></div>
</div>
<div id="sim-flow" class="section level3" number="1.2.6">
<h3>
<span class="header-section-number">1.2.6</span> Simulation flow and module events<a class="anchor" aria-label="anchor" href="#sim-flow"><i class="fas fa-link"></i></a>
</h3>
<p><em>Biomass_core</em> itself does not simulate disturbances or their effect on
vegetation (i.e., post-disturbance mortality and regeneration). Should
disturbance and post-disturbance mortality/regeneration modules be used (e.g.,
<em>LandMine</em> and <em>Biomass_regeneration</em>), the user should make sure that
post-disturbance effects occur <em>after</em> the disturbance, but <em>before</em> dispersal
and background vegetation growth and mortality (simulated in <em>Biomass_core</em>).
Hence, the disturbance itself should take place either at the very beginning or
at the very end of each simulation time step to guarantee that it happens
immediately before post-disturbance effects are calculated.</p>
<p>The general flow of <em>Biomass_core</em> processes with and without disturbances is:</p>
<ol style="list-style-type: decimal">
<li><p>Preparation of necessary objects for the simulation – either by data and
calibration modules or by <em>Biomass_core</em> itself (during <code>simInit</code> and the
<code>init</code> event<a href="#fn6" class="footnote-ref" id="fnref6"><sup>6</sup></a>);</p></li>
<li><p>Disturbances (OPTIONAL) – simulated by a disturbance module (e.g.,
<em>LandMine</em>);</p></li>
<li><p>Post-disturbance mortality/regeneration (OPTIONAL) – simulated by a
regeneration module (e.g., <em>Biomass_regeneration</em>);</p></li>
<li><p>Seed dispersal (every <code>successionTimestep</code>; <code>Dispersal</code> event):</p></li>
</ol>
<ul>
<li>seed dispersal can be a slow process and has been adapted to occur every
10 years (default <code>successionTimestep</code>). The user can set it to occur
more/less often, with the caveat that if using <em>Biomass_borealDataPrep</em>
to estimate species establishment probabilities, these values are
integrated over 10 years.</li>
<li>see <span class="citation">Scheller &amp; Domingo (<a href="#ref-SchellerDomingo2012" role="doc-biblioref">2012</a>)</span> for details on dispersal algorithms.</li>
</ul>
<ol start="5" style="list-style-type: decimal">
<li>Growth and mortality (<code>mortalityAndGrowth</code> event):</li>
</ol>
<ul>
<li>unlike dispersal, growth and mortality always occur time step (year).</li>
<li>see <span class="citation">Scheller &amp; Mladenoff (<a href="#ref-SchellerMladenoff2004" role="doc-biblioref">2004</a>)</span> for further detail.</li>
</ul>
<ol start="6" style="list-style-type: decimal">
<li>Cohort age binning (every <code>successionTimestep</code>; <code>cohortAgeReclassification</code>
event):</li>
</ol>
<ul>
<li>follows the same frequency as dispersal, collapsing cohorts (i.e.,
summing their biomass/mortality/aNPP) to ages classes with resolution
equal to <code>successionTimestep</code>.</li>
<li>see <span class="citation">Scheller &amp; Miranda (<a href="#ref-SchellerMiranda2015" role="doc-biblioref">2015b</a>)</span> for further detail.</li>
</ul>
<ol start="7" style="list-style-type: decimal">
<li><p>Summary tables of regeneration (<code>summaryRegen</code> event), biomass, age, growth
and mortality (<code>summaryBGM</code> event);</p></li>
<li><p>Plots of maps (<code>plotMaps</code> event) and averages (<code>plotAvgs</code> and
<code>plotSummaryBySpecies</code> events);</p></li>
<li><p>Save outputs (<code>save</code> event).</p></li>
</ol>
<p>… (repeat 2-9) …</p>
</div>
<div id="biomass-core-vs-lbse" class="section level3" number="1.2.7">
<h3>
<span class="header-section-number">1.2.7</span> Differences between <em>Biomass_core</em> and the LANDIS-II Biomass Succession Extension model (LBSE)<a class="anchor" aria-label="anchor" href="#biomass-core-vs-lbse"><i class="fas fa-link"></i></a>
</h3>
<div id="biomass-core-vs-lbse-algo" class="section level4" number="1.2.7.1">
<h4>
<span class="header-section-number">1.2.7.1</span> Algorithm changes<a class="anchor" aria-label="anchor" href="#biomass-core-vs-lbse-algo"><i class="fas fa-link"></i></a>
</h4>
<p>Upon porting LBSE into R, we made six minor modifications to the original
model’s algorithms to better reflect ecological processes. This did not
significantly alter the simulation outputs and we note that these changes might
also have been implemented in more recent versions of LBSE.</p>
<p>First, for each year and community (i.e., ‘pixel group’ in <em>Biomass_core</em>, see
below), LBSE calculates the competition index for a cohort sequentially (i.e.,
one cohort at a time) after updating the growth and mortality of other cohorts
(i.e., their biomass gain and loss, respectively) , and with the calculation
sequence following cohort age in descending order, but no explicit order of
species. This sorting of growth and mortality calculations from oldest to
youngest cohorts in LBSE was aimed at capturing size-asymmetric competition
between cohorts, under the assumption that older cohorts have priority for
growing space given their greater height (Scheller pers. comm.). We felt that
within-year sequential growth, death and recruitment may be not ecologically
accurate, and that the size-asymmetric competition was being accounted for
twice, as the calculation of the competition index already considers the
competitive advantage of older cohorts <span class="citation">(as shown in the User’s Guide, <a href="#ref-SchellerMiranda2015" role="doc-biblioref">Scheller &amp; Miranda 2015b</a>)</span>. Hence, in <em>Biomass_core</em> growth, mortality, recruitment
and the competition index are calculated at the same time across all cohorts and
species.</p>
<p>Second, the unknown species-level sorting mechanism contained within LBSE (which
changed depending on the species order in the input species list file), led to
different simulation results depending on the input species list file (e.g.,
Table <a href="landr-biomass_core-module.html#tab:tableLBSEtest1">1.8</a> and Fig. <a href="landr-biomass_core-module.html#fig:figLBSEtest1">1.2</a>). The
calculation of competition, growth and mortality for all cohorts at the same
time also circumvented this issue.</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:figLBSEtest1"></span>
<img src="modules/Biomass_core/figures/figLBSEtest1.png" alt="Differences in total landscape aboveground biomass when using two different input species orders for the same community. These simulations demonstrate how the sequential calculation of the competition index, combined with a lack of explicit species ordering affect the overall landscape aboveground biomass in time when using different input species orders (see Table \@ref(tab:tableLBSEtest1)). In order to prevent differences introduced by cohort recruitment, species’ ages at sexual maturity were changed to the species’ longevity values, and the simulation ran for 75 years to prevent any cohorts from reaching sexual maturity. The bottom panel shows the difference between the two simulations in percentage, calculated as $\frac{Biomass_{order2} - Biomass_{order1}}{Biomass_{order2}} * 100$" width="60%"><p class="caption">
Figure 1.2: Differences in total landscape aboveground biomass when using two different input species orders for the same community. These simulations demonstrate how the sequential calculation of the competition index, combined with a lack of explicit species ordering affect the overall landscape aboveground biomass in time when using different input species orders (see Table <a href="landr-biomass_core-module.html#tab:tableLBSEtest1">1.8</a>). In order to prevent differences introduced by cohort recruitment, species’ ages at sexual maturity were changed to the species’ longevity values, and the simulation ran for 75 years to prevent any cohorts from reaching sexual maturity. The bottom panel shows the difference between the two simulations in percentage, calculated as <span class="math inline">\(\frac{Biomass_{order2} - Biomass_{order1}}{Biomass_{order2}} * 100\)</span>
</p>
</div>
<p>Third, in LBSE the calculation of total pixel biomass for the purpose of
calculating the initial biomass of a new cohort included the (previously
calculated) biomass of other new cohorts when succession time step = 1, but not
when time step was &gt; 1. This does not reflect the documentation in the User’s
Guide, which stated that “<em>Bsum [total pixel biomass] is the current total
biomass for the site (not including other new cohorts)</em>”
<span class="citation">(<a href="#ref-SchellerMiranda2015" role="doc-biblioref">Scheller &amp; Miranda 2015b</a>)</span>, when the succession time step was set to 1.
Additionally, together with the lack of explicit ordering, this generated
different results in terms of the biomass assigned to each new cohort (e.g.,
Table <a href="landr-biomass_core-module.html#tab:tableLBSEtest2">1.9</a> and Fig. <a href="landr-biomass_core-module.html#fig:figLBSEtest2">1.3</a>). In
<em>Biomass_core</em> the initial biomass of new cohorts is no longer calculated
sequentially (as with competition, growth and mortality), and thus the biomass
of new cohorts is never included in the calculation of total pixel biomass.</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:figLBSEtest2"></span>
<img src="modules/Biomass_core/figures/figLBSEtest2.png" alt="Differences in the biomass assigned to new cohorts, summed for each species across pixels, when using two different input species orders for the same community and when the succession time step is 1. These simulations demonstrate how the different summation of total cohort biomass for a succession time step of 1 and the lack of explicit species ordering affect simulation results when changing the species order in the input file (see Table \@ref(tab:tableLBSEtest2)). Here, initial cohort ages were also set to 1. Values refer to the initial total biomass attributed to each species at the end of year 1." width="60%"><p class="caption">
Figure 1.3: Differences in the biomass assigned to new cohorts, summed for each species across pixels, when using two different input species orders for the same community and when the succession time step is 1. These simulations demonstrate how the different summation of total cohort biomass for a succession time step of 1 and the lack of explicit species ordering affect simulation results when changing the species order in the input file (see Table <a href="landr-biomass_core-module.html#tab:tableLBSEtest2">1.9</a>). Here, initial cohort ages were also set to 1. Values refer to the initial total biomass attributed to each species at the end of year 1.
</p>
</div>
<p>Fourth, in LBSE, serotiny and resprouting could not occur in the same pixel
following a fire, with serotiny taking precedence if activated. We understand
that this provides an advantage to serotinous species, which could perhaps be
disadvantaged with respect to fast-growing resprouters. However, we feel that it
is ecologically more realistic that serotinous and resprouter species be able to
both regenerate in a given pixel following a fire and allow the competition
between serotinous and resprouting species to arise from species traits. Note
that this change was implemented in the <em>Biomass_regeneration</em> and
<em>Biomass_regenerationPM</em> modules, since post-disturbance effects were separated
background vegetation dynamics simulated by <em>Biomass_core</em>.</p>
<p>Fifth, in <em>Biomass_core</em>, species shade tolerance values can have decimal values
to allow for finer adjustments of between-species competition.</p>
<p>Sixth, we added a new parameter called <code>minCohortBiomass</code>, that allows the user
to control cohort removal bellow a certain threshold of biomass. In some
simulation set-ups, we noticed that <em>Biomass_core</em> (and LBSE) were able to
generate many very small cohorts in the understory that, due to cohort
competition, were not able to gain biomass and grow. However, because
competition decreases growth but does not increase mortality, these cohorts
survived at very low biomass levels until they reached sufficient age to suffer
age-related mortality. We felt this is unlikely to be realistic in many cases.
By default, this parameter is left at 0 to follow LBSE behaviour (i.e., no
cohorts removal based on minimum biomass).</p>
</div>
<div id="biomass-core-vs-lbse-enhan" class="section level4" number="1.2.7.2">
<h4>
<span class="header-section-number">1.2.7.2</span> Other enhancements<a class="anchor" aria-label="anchor" href="#biomass-core-vs-lbse-enhan"><i class="fas fa-link"></i></a>
</h4>
<p>In addition to the sixth changes in growth, mortality and regeneration mentioned
above, we enhanced modularity by separating the components that govern
vegetation responses to disturbances from <em>Biomass_core</em>, and implemented
hashing, caching and testing to improve computational efficiency and insure
performance.</p>
<div id="biomass-core-vs-lbse-enhan1" class="section level5" number="1.2.7.2.1">
<h5>
<span class="header-section-number">1.2.7.2.1</span> Modularity<a class="anchor" aria-label="anchor" href="#biomass-core-vs-lbse-enhan1"><i class="fas fa-link"></i></a>
</h5>
<p>Unlike in LBSE, post-disturbance effects are not part of <em>Biomass_core</em> <em>per
se</em>, but belong to two separate modules, used interchangeably
(<a href="https://github.com/PredictiveEcology/Biomass_regeneration/blob/master/Biomass_regeneration.Rmd"><em>Biomass_regeneration</em></a>
and
<a href="https://github.com/PredictiveEcology/Biomass_regenerationPM/blob/master/Biomass_regenerationPM.Rmd"><em>Biomass_regenerationPM</em></a>).
These need to be loaded and added to the “modules folder” of the project in case
the user wants to simulate forest responses to disturbances (only fire
disturbances at the moment). Again, this enables higher flexibility when
swapping between different approaches to regeneration.</p>
<p>Climate effects on growth and mortality were also implemented a modular way. The
effects of climate on biomass increase (growth) and loss (mortality) were
written in functions grouped in two packages. The <code>LandR</code> R package contains
default, “non-climate-sensitive” functions, while the <code>LandR.CS</code> R package
contains the functions that simulate climate effects (CS stands for “climate
sensitive”). Note that these functions do not simulate actual growth/mortality
processes, but estimate modifiers that increase/decrease cohort biomass on top
of background growth/mortality. <em>Biomass_core</em> uses the <code>LandR</code> functions by
default (see <code>growthAndMortalityDrivers</code> parameter in the <a href="landr-biomass_core-module.html#params-list">full parameters
list</a>). Should the user wish to change how climate effects on
growth/mortality are calculated, they can provide new compatible functions
(i.e., with the same names, inputs and outputs) via another R package.</p>
</div>
<div id="biomass-core-vs-lbse-enhan2" class="section level5" number="1.2.7.2.2">
<h5>
<span class="header-section-number">1.2.7.2.2</span> Hashing<a class="anchor" aria-label="anchor" href="#biomass-core-vs-lbse-enhan2"><i class="fas fa-link"></i></a>
</h5>
<p>Our first strategy to improve simulation efficiency in <em>Biomass_core</em> was to use
a hashing mechanism <span class="citation">(<a href="#ref-YangEtAl2011" role="doc-biblioref">Yang <em>et al.</em> 2011</a>)</span>. Instead of assigning a key to each pixel in
a raster and tracking the simulation for each pixel in a lookup table, we
indexed pixels using a <em>pixelGroup</em> key that contained unique combinations of
ecolocation and community composition (i.e., species, age and biomass
composition), and tracked and stored simulation data for each <em>pixelGroup</em> (Fig.
<a href="landr-biomass_core-module.html#fig:figLBSEtest3">1.4</a>). This algorithm was able to ease the computational
burden by significantly reducing the size of the lookup table and speeding-up
the simulation process. After recruitment and disturbance events, pixels are
rehashed into new pixel groups.</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:figLBSEtest3"></span>
<img src="modules/Biomass_core/figures/figLBSEtest3.png" alt="Hashing design for Biomass_core. In the re-coded Biomass_core, the pixel group map was hashed based on the unique combination of species composition ('community map') and ecolocation map, and associated with a lookup table. The insert in the top-right corner was the original design that linked the map to the lookup table by pixel key." width="75%"><p class="caption">
Figure 1.4: Hashing design for <em>Biomass_core</em>. In the re-coded <em>Biomass_core</em>, the pixel group map was hashed based on the unique combination of species composition (‘community map’) and ecolocation map, and associated with a lookup table. The insert in the top-right corner was the original design that linked the map to the lookup table by pixel key.
</p>
</div>
</div>
<div id="biomass-core-vs-lbse-enhan3" class="section level5" number="1.2.7.2.3">
<h5>
<span class="header-section-number">1.2.7.2.3</span> Caching<a class="anchor" aria-label="anchor" href="#biomass-core-vs-lbse-enhan3"><i class="fas fa-link"></i></a>
</h5>
<p>The second strategy aimed at improving model efficacy was the implementation of
caching during data-driven parametrisation and initialisation. Caching
automatically archives outputs of a given function to disk (or memory) and reads
them back when subsequent calls of this function are given identical inputs. All
caching operations were achieved using the <code>reproducible</code> R package
<span class="citation">(<a href="#ref-McIntireChubaty2020" role="doc-biblioref">McIntire &amp; Chubaty 2020</a>)</span>.</p>
<p>In the current version of <em>Biomass_core</em>, the spin-up phase was replaced by
data-driven landscape initialisation and many model parameters were derived from
data, using data and calibration modules (e.g., <em>Biomass_borealDataPrep</em>). To
avoid having to repeat data downloads and treatment, statistical estimation of
parameters and landscape initialisation every time the simulation is re-run
under the same conditions, many of these pre-simulation steps are automatically
cached. This means that the pre-simulation phase is significantly faster upon a
second call when inputs have not changed (e.g., the input data and
parametrisation methods), and when inputs do change only directly affected steps
are re-run (see main text for examples). When not using data modules,
<em>Biomass_core</em> still relies on caching for the preparation of its theoretical
inputs.</p>
</div>
<div id="biomass-core-vs-lbse-enhan4" class="section level5" number="1.2.7.2.4">
<h5>
<span class="header-section-number">1.2.7.2.4</span> Testing<a class="anchor" aria-label="anchor" href="#biomass-core-vs-lbse-enhan4"><i class="fas fa-link"></i></a>
</h5>
<p>Finally, we implemented code testing to facilitate bug detection by comparing
the outputs of functions (etc.) to expected outputs <span class="citation">(<a href="#ref-Wickham2011" role="doc-biblioref">Wickham 2011</a>)</span>. We built and
integrated code tests in <em>Biomass_core</em> and across all LandR modules and the
<code>LandR</code> R package <!-- package name may change --> in the form of assertions,
unit tests and integration tests. Assertions and unit tests are run
automatically during simulations (but can be turned off) and evaluate individual
code components (e.g., one function or an object’s class). Integration tests
evaluate if several coded processes are integrated correctly and are usually run
manually. However, because we embedded assertions within the module code, R
package dependencies of <em>Biomass_core</em>, such as the <code>LandR</code> R package
<!-- package name may change --> and <code>SpaDES</code>, they also provide a means to test
module integration. We also implemented GitHub Actions continuous integration
(CI), which routinely test GitHub hosted packages (e.g., <code>LandR</code>) and modules.
CRAN-hosted packages (e.g., <code>SpaDES</code>) are also automatically tested and checked
on CRAN.</p>
<p>Finally, because <em>Biomass_core</em> (and all other LandR modules) code is hosted in
public GitHub repositories, the module code is subject to the scrutiny of
many users, who can identify issues and contribute to improve module code.</p>
</div>
</div>
<div id="biomass-core-vs-lbse-comparisons" class="section level4" number="1.2.7.3">
<h4>
<span class="header-section-number">1.2.7.3</span> Performance and accuracy of <em>Biomass_core</em> with respect to LBSE<a class="anchor" aria-label="anchor" href="#biomass-core-vs-lbse-comparisons"><i class="fas fa-link"></i></a>
</h4>
<p>In the recoding of <em>Biomass_core</em>, we used integration tests to ensured similar
outputs of each demographic process (namely, growth, mortality and recruitment)
to the outputs from its counterpart in LBSE. Here, we report the
comparisons of the overall simulation (i.e., including all demographic
processes) between LBSE and <em>Biomass_core</em> using three randomly generated
initial communities (Tables
<a href="landr-biomass_core-module.html#tab:tableLBSEtest3">1.10</a>-<a href="landr-biomass_core-module.html#tab:tableLBSEtest5">1.12</a>). The remaining input
parameters were taken from a LANDIS-II training course (Tables
<a href="landr-biomass_core-module.html#tab:tableLBSEtest6">1.13</a>-<a href="landr-biomass_core-module.html#tab:tableLBSEtest9">1.16</a>), and contained species
attributes information of 16 common tree species in boreal forests and 2
ecolocations. We ran simulations for 1000 years, with a succession time step of
10 and three replicates, which were enough to account for the variability
produced by stochastic processes. Seed dispersal was set as “ward dispersal”.</p>
<p>The results suggested that <em>Biomass_core</em> had a good agreement with LBSE using
the three randomly generated initial communities (Fig. <a href="landr-biomass_core-module.html#fig:figLBSEtest4">1.5</a>),
with very small deviations for LBSE-generated biomasses. Notably, the mean
differences between LBSE and <em>Biomass_core</em> were 0.03% (range:
-0.01% ~ 0.13%), 0.03% (range:
-0.01% ~ 0.11%) and 0.05%
(-0.02% ~ 0.15%) for each initial community,
respectively (right panels in Fig. <a href="landr-biomass_core-module.html#fig:figLBSEtest4">1.5</a> of this appendix).</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:figLBSEtest4"></span>
<img src="modules/Biomass_core/figures/figLBSEtest4.png" alt="Visual comparison of simulation outputs for three randomly generated initial communities (left panels) and difference between those outputs (right panels). The % difference between LBSE and Biomass_core were calculated as $\frac{Biomass_{LBSE} - Biomass_{Biomass_core}}{Biomass_{LBSE}} * 100$" width="60%"><p class="caption">
Figure 1.5: Visual comparison of simulation outputs for three randomly generated initial communities (left panels) and difference between those outputs (right panels). The % difference between LBSE and <em>Biomass_core</em> were calculated as <span class="math inline">\(\frac{Biomass_{LBSE} - Biomass_{Biomass_core}}{Biomass_{LBSE}} * 100\)</span>
</p>
</div>
<p>To examine how running time changed with map size, we ran simulations using maps
with increasing number of pixels, from 22,201 to 638,401 pixels. All maps were
initialised with a single ecolocation and 7 different communities. Simulations
were run for 120 years using a succession time step of 10 and replicated three
times. To eliminate the effect of hardware on running time, we used machines
that were all purchased at the same time, with equal specifications and running
Windows 7. Each simulation ran on 2 CPU threads with a total RAM of 4000 Mb.</p>
<p>For both LBSE and <em>Biomass_core</em>, the simulation time increased linearly with number
of pixels, but the increase rate was smaller for <em>Biomass_core</em> (Fig.
<a href="landr-biomass_core-module.html#fig:figLBSEtest5">1.6</a>a). This meant that while both models had similar
simulation efficiencies in small maps (&lt; 90,000 pixels), as map size increased
<em>Biomass_core</em> was ~2 times faster than LBSE (maps &gt; 100,000 pixels; Fig.
<a href="landr-biomass_core-module.html#fig:figLBSEtest5">1.6</a>a). <em>Biomass_core</em> also scaled better with map size, as
LBSE speeds fluctuated between 19 to 25 seconds per 1,000 pixels across all map
sizes, while <em>Biomass_core</em> decreased from 21 to 11 seconds per 1,000 pixels
from smaller to larger maps (Fig. <a href="landr-biomass_core-module.html#fig:figLBSEtest5">1.6</a>b).</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:figLBSEtest5"></span>
<img src="modules/Biomass_core/figures/figLBSEtest5.png" alt="Simulation efficiencies of LBSE and Biomass_core with increasing map size, in terms of a) mean running time across repetitions (left y-axis) and the ratio LBSE to Biomass_core running times (right y-axis and blue line), and b) running time scalability as the mean running time per 1000 pixels." width="60%"><p class="caption">
Figure 1.6: Simulation efficiencies of LBSE and <em>Biomass_core</em> with increasing map size, in terms of a) mean running time across repetitions (left y-axis) and the ratio LBSE to <em>Biomass_core</em> running times (right y-axis and blue line), and b) running time scalability as the mean running time per 1000 pixels.
</p>
</div>
</div>
</div>
</div>
<div id="example" class="section level2" number="1.3">
<h2>
<span class="header-section-number">1.3</span> Usage example<a class="anchor" aria-label="anchor" href="#example"><i class="fas fa-link"></i></a>
</h2>
<div id="example-libs" class="section level3" number="1.3.1">
<h3>
<span class="header-section-number">1.3.1</span> Set up R libraries<a class="anchor" aria-label="anchor" href="#example-libs"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="kw"><a href="https://rdrr.io/r/base/library.html">require</a></span><span class="op">(</span><span class="va"><a href="https://Require.predictiveecology.org">Require</a></span><span class="op">)</span><span class="op">)</span> <span class="op">{</span>
    <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"Require"</span><span class="op">)</span>
    <span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://Require.predictiveecology.org">Require</a></span><span class="op">)</span>
<span class="op">}</span>

<span class="fu"><a href="https://Require.predictiveecology.org/reference/Require.html">Require</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"PredictiveEcology/SpaDES.install"</span>, <span class="st">"SpaDES"</span>, <span class="st">"PredictiveEcology/SpaDES.core@development"</span>,
    <span class="st">"PredictiveEcology/LandR"</span><span class="op">)</span>, install_githubArgs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>dependencies <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span>  <span class="co"># In general, a module code will be controlled at one level above the source code</span>

<span class="va">tempDir</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html">tempdir</a></span><span class="op">(</span><span class="op">)</span>
<span class="va">paths</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>inputPath <span class="op">=</span> <span class="fu"><a href="https://Require.predictiveecology.org/reference/normPath.html">normPath</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html">file.path</a></span><span class="op">(</span><span class="va">tempDir</span>, <span class="st">"inputs"</span><span class="op">)</span><span class="op">)</span>,
    cachePath <span class="op">=</span> <span class="fu"><a href="https://Require.predictiveecology.org/reference/normPath.html">normPath</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html">file.path</a></span><span class="op">(</span><span class="va">tempDir</span>, <span class="st">"cache"</span><span class="op">)</span><span class="op">)</span>, modulePath <span class="op">=</span> <span class="fu"><a href="https://Require.predictiveecology.org/reference/normPath.html">normPath</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html">file.path</a></span><span class="op">(</span><span class="va">tempDir</span>,
        <span class="st">"modules"</span><span class="op">)</span><span class="op">)</span>, outputPath <span class="op">=</span> <span class="fu"><a href="https://Require.predictiveecology.org/reference/normPath.html">normPath</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html">file.path</a></span><span class="op">(</span><span class="va">tempDir</span>,
        <span class="st">"outputs"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></code></pre></div>
</div>
<div id="example-pkg-mods" class="section level3" number="1.3.2">
<h3>
<span class="header-section-number">1.3.2</span> Get the module and module dependencies<a class="anchor" aria-label="anchor" href="#example-pkg-mods"><i class="fas fa-link"></i></a>
</h3>
<p>We can use the <code><a href="https://rdrr.io/pkg/SpaDES.install/man/getModule.html">SpaDES.install::getModule</a></code> function to download the module to
the module folder specified above. Alternatively, see <a href="https://github.com/PredictiveEcology/SpaDES-modules">SpaDES-modules
repository</a> to see how to
download this and other <code>SpaDES</code> modules, or fork/clone from its <a href="https://github.com/PredictiveEcology/Biomass_core/">GitHub
repository</a> directly.</p>
<p>After downloading the module, it is important to make sure all module R package
dependencies are installed in their correct version.
<code><a href="https://rdrr.io/pkg/SpaDES.install/man/makeSureAllPackagesInstalled.html">SpaDES.install::makeSureAllPackagesInstalled</a></code> takes care of this for any module
in the <code>paths$modulePath</code>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">SpaDES.install</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/SpaDES.install/man/getModule.html">getModule</a></span><span class="op">(</span><span class="st">"PredictiveEcology/Biomass_core"</span>, modulePath <span class="op">=</span> <span class="va">paths</span><span class="op">$</span><span class="va">modulePath</span>,
    overwrite <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>

<span class="co">## make sure all necessary packages are installed:</span>
<span class="fu">SpaDES.install</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/SpaDES.install/man/makeSureAllPackagesInstalled.html">makeSureAllPackagesInstalled</a></span><span class="op">(</span><span class="va">paths</span><span class="op">$</span><span class="va">modulePath</span><span class="op">)</span></code></pre></div>
</div>
<div id="example-setupSim" class="section level3" number="1.3.3">
<h3>
<span class="header-section-number">1.3.3</span> Setup simulation<a class="anchor" aria-label="anchor" href="#example-setupSim"><i class="fas fa-link"></i></a>
</h3>
<p>Here we setup a simulation in a random study area, using any species within the
<code><a href="https://landr.predictiveecology.org/reference/sppEquivalencies_CA.html">LandR::sppEquivalencies_CA</a></code> table that can be found there (<em>Biomass_core</em> will
retrieve species % cover maps and filter present species). We also
define the colour coding used for plotting, the type of plots we what to produce
and choose to output <code>cohortData</code> tables every year – note that these are not
pixel-based, so to “spatialise” results <em>a posteriori</em> the <code>pixelBroupMap</code> must
also be saved.</p>
<p>Please see the lists of <a href="landr-biomass_core-module.html#inputs-list">input objects</a>,
<a href="landr-biomass_core-module.html#params-list">parameters</a> and <a href="landr-biomass_core-module.html#outputs-list">outputs</a> for more information.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">times</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>start <span class="op">=</span> <span class="fl">0</span>, end <span class="op">=</span> <span class="fl">30</span><span class="op">)</span>

<span class="va">studyArea</span> <span class="op">&lt;-</span> <span class="fu">Cache</span><span class="op">(</span><span class="va">randomStudyArea</span>, size <span class="op">=</span> <span class="fl">1e+07</span><span class="op">)</span>  <span class="co"># cache this so it creates a random one only once on a machine</span>

<span class="co"># Pick the species you want to work with – using the naming</span>
<span class="co"># convention in 'Boreal' column of</span>
<span class="co"># LandR::sppEquivalencies_CA</span>
<span class="va">speciesNameConvention</span> <span class="op">&lt;-</span> <span class="st">"Boreal"</span>
<span class="va">speciesToUse</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Pice_Gla"</span>, <span class="st">"Popu_Tre"</span>, <span class="st">"Pinu_Con"</span><span class="op">)</span>

<span class="va">sppEquiv</span> <span class="op">&lt;-</span> <span class="fu">LandR</span><span class="fu">::</span><span class="va"><a href="https://landr.predictiveecology.org/reference/sppEquivalencies_CA.html">sppEquivalencies_CA</a></span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/get.html">get</a></span><span class="op">(</span><span class="va">speciesNameConvention</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span>
    <span class="va">speciesToUse</span><span class="op">]</span>
<span class="co"># Assign a colour convention for graphics for each species</span>
<span class="va">sppColorVect</span> <span class="op">&lt;-</span> <span class="fu">LandR</span><span class="fu">::</span><span class="fu"><a href="https://landr.predictiveecology.org/reference/sppColors.html">sppColors</a></span><span class="op">(</span><span class="va">sppEquiv</span>, <span class="va">speciesNameConvention</span>,
    newVals <span class="op">=</span> <span class="st">"Mixed"</span>, palette <span class="op">=</span> <span class="st">"Set1"</span><span class="op">)</span>

<span class="co">## Usage example</span>
<span class="va">modules</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">as.list</a></span><span class="op">(</span><span class="va">moduleName</span><span class="op">)</span>
<span class="va">objects</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>studyArea <span class="op">=</span> <span class="va">studyArea</span>, sppEquiv <span class="op">=</span> <span class="va">sppEquiv</span>, sppColorVect <span class="op">=</span> <span class="va">sppColorVect</span><span class="op">)</span>

<span class="va">successionTimestep</span> <span class="op">&lt;-</span> <span class="fl">10L</span>

<span class="co">## keep default values for most parameters (omitted from</span>
<span class="co">## this list)</span>
<span class="va">parameters</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>Biomass_core <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>sppEquivCol <span class="op">=</span> <span class="va">speciesNameConvention</span>,
    successionTimestep <span class="op">=</span> <span class="va">successionTimestep</span>, .plots <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"screen"</span>,
        <span class="st">"object"</span><span class="op">)</span>, .plotInitialTime <span class="op">=</span> <span class="va">times</span><span class="op">$</span><span class="va">start</span>, .plots <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"screen"</span>,
        <span class="st">"png"</span><span class="op">)</span>, .saveInitialTime <span class="op">=</span> <span class="va">times</span><span class="op">$</span><span class="va">start</span>, .useCache <span class="op">=</span> <span class="st">"init"</span>,
    .useParallel <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span><span class="op">)</span>

<span class="va">outputs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/expand.grid.html">expand.grid</a></span><span class="op">(</span>objectName <span class="op">=</span> <span class="st">"cohortData"</span>,
    saveTime <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="va">times</span><span class="op">$</span><span class="va">start</span>, <span class="va">times</span><span class="op">$</span><span class="va">end</span>, by <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span>, eventPriority <span class="op">=</span> <span class="fl">1</span>,
    stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/grDevices/dev.html">graphics.off</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
</div>
<div id="example-runSim" class="section level3" number="1.3.4">
<h3>
<span class="header-section-number">1.3.4</span> Run simulation<a class="anchor" aria-label="anchor" href="#example-runSim"><i class="fas fa-link"></i></a>
</h3>
<p><code>simInitAndSpades</code> is a wrapper function that runs both <code>simInit</code> (which
initialises all modules) and <code>spades</code> (which runs all modules, i.e., their events),
to which pass all the necessary setup objects created above.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mySim</span> <span class="op">&lt;-</span> <span class="fu">simInitAndSpades</span><span class="op">(</span>times <span class="op">=</span> <span class="va">times</span>, params <span class="op">=</span> <span class="va">parameters</span>,
    modules <span class="op">=</span> <span class="va">modules</span>, objects <span class="op">=</span> <span class="va">objects</span>, paths <span class="op">=</span> <span class="va">paths</span>, outputs <span class="op">=</span> <span class="va">outputs</span>,
    debug <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<div class="figure">
<span style="display:block;" id="fig:fig-Biomass-coreOutPlots"></span>
<img src="modules/Biomass_core/figures/Biomass_coreOutPlots1.png" alt="Biomass_core automatically generates simulation visuals of species dynamics across the landscape in terms of total biomass, number of presences and age and productivity (above), as well as yearly plots of total biomass, productivity, mortality, reproduction and leading species in each pixel (below)." width="50%"><img src="modules/Biomass_core/figures/Biomass_coreOutPlots2.png" alt="Biomass_core automatically generates simulation visuals of species dynamics across the landscape in terms of total biomass, number of presences and age and productivity (above), as well as yearly plots of total biomass, productivity, mortality, reproduction and leading species in each pixel (below)." width="50%"><p class="caption">
Figure 1.7: <em>Biomass_core</em> automatically generates simulation visuals of species dynamics across the landscape in terms of total biomass, number of presences and age and productivity (above), as well as yearly plots of total biomass, productivity, mortality, reproduction and leading species in each pixel (below).
</p>
</div>
</div>
</div>
<div id="appendix" class="section level2" number="1.4">
<h2>
<span class="header-section-number">1.4</span> Appendix<a class="anchor" aria-label="anchor" href="#appendix"><i class="fas fa-link"></i></a>
</h2>
<div id="appendix-tables" class="section level3" number="1.4.1">
<h3>
<span class="header-section-number">1.4.1</span> Tables<a class="anchor" aria-label="anchor" href="#appendix-tables"><i class="fas fa-link"></i></a>
</h3>
<!--
| Input order 1 |          |     |            | Input order 2 |          |     |            |
|:--------------|:---------|:----|:-----------|:--------------|:---------|:----|:-----------|
| Community     | Input    | Age | Processing | Community     | Input    | Age | Processing |
|               | order    |     | order      |               | order    |     | order      |
| 1             | abiebals | 20  | poputrem   | 1             | pinustro | 20  | thujocci   |
| 1             | acerrubr | 20  | querelli   | 1             | poputrem | 20  | tiliamer   |
| 1             | acersacc | 20  | pinuresi   | 1             | acerrubr | 20  | querelli   |
| 1             | betualle | 20  | pinustro   | 1             | pinubank | 20  | querrubr   |
| 1             | betupapy | 20  | tiliamer   | 1             | betualle | 20  | betupapy   |
| 1             | fraxamer | 20  | tsugcana   | 1             | piceglau | 20  | fraxamer   |
| 1             | piceglau | 20  | querrubr   | 1             | pinuresi | 20  | tsugcana   |
| 1             | pinubank | 20  | thujocci   | 1             | acersacc | 20  | abiebals   |
| 1             | pinuresi | 20  | acersacc   | 1             | querelli | 20  | acerrubr   |
| 1             | pinustro | 20  | betualle   | 1             | querrubr | 20  | pinubank   |
| 1             | poputrem | 20  | abiebals   | 1             | thujocci | 20  | pinustro   |
| 1             | querelli | 20  | acerrubr   | 1             | tiliamer | 20  | poputrem   |
| 1             | querrubr | 20  | piceglau   | 1             | tsugcana | 20  | pinuresi   |
| 1             | thujocci | 20  | pinubank   | 1             | abiebals | 20  | acersacc   |
| 1             | tiliamer | 20  | betupapy   | 1             | betupapy | 20  | betualle   |
| 1             | tsugcana | 20  | fraxamer   | 1             | fraxamer | 20  | piceglau   |

: (#tab:tableLBSEtest1) Input order and processing order (as determined by LBSE)
for the same community used to assess the impact of sequential calculation of
the competition index, combined with a lack of explicit species ordering. The
input order was the order of species in the initial communities table input
file. The processing order was the order used in the simulation, which was
obtained from `Landis-log.txt` when `CalibrateMode` was set to 'yes'. Species
starting ages are also shown.
-->
<div class="inline-table"><table class="table table-sm">
<caption>
<span id="tab:tableLBSEtest1">Table 1.8: </span>Input order and processing order (as determined by LBSE) for the same community used to assess the impact of sequential calculation of the competition index, combined with a lack of explicit species ordering. The input order was the order of species in the initial communities table input file. The processing order was the order used in the simulation, which was obtained from <code>Landis-log.txt</code> when <code>CalibrateMode</code> was set to ‘yes’. Species starting ages are also shown.</caption>
<colgroup>
<col width="17%">
<col width="14%">
<col width="4%">
<col width="13%">
<col width="17%">
<col width="14%">
<col width="4%">
<col width="13%">
</colgroup>
<thead><tr class="header">
<th align="left">Input order 1</th>
<th align="left"></th>
<th align="left"></th>
<th align="left"></th>
<th align="left">Input order 2</th>
<th align="left"></th>
<th align="left"></th>
<th align="left"></th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Community</td>
<td align="left">Input order</td>
<td align="left">Age</td>
<td align="left">Processing</td>
<td align="left">Community</td>
<td align="left">Input order</td>
<td align="left">Age</td>
<td align="left">Processing</td>
</tr>
<tr class="even">
<td align="left">1</td>
<td align="left">abiebals</td>
<td align="left">20</td>
<td align="left">poputrem</td>
<td align="left">1</td>
<td align="left">pinustro</td>
<td align="left">20</td>
<td align="left">thujocci</td>
</tr>
<tr class="odd">
<td align="left">1</td>
<td align="left">acerrubr</td>
<td align="left">20</td>
<td align="left">querelli</td>
<td align="left">1</td>
<td align="left">poputrem</td>
<td align="left">20</td>
<td align="left">tiliamer</td>
</tr>
<tr class="even">
<td align="left">1</td>
<td align="left">acersacc</td>
<td align="left">20</td>
<td align="left">pinuresi</td>
<td align="left">1</td>
<td align="left">acerrubr</td>
<td align="left">20</td>
<td align="left">querelli</td>
</tr>
<tr class="odd">
<td align="left">1</td>
<td align="left">betualle</td>
<td align="left">20</td>
<td align="left">pinustro</td>
<td align="left">1</td>
<td align="left">pinubank</td>
<td align="left">20</td>
<td align="left">querrubr</td>
</tr>
<tr class="even">
<td align="left">1</td>
<td align="left">betupapy</td>
<td align="left">20</td>
<td align="left">tiliamer</td>
<td align="left">1</td>
<td align="left">betualle</td>
<td align="left">20</td>
<td align="left">betupapy</td>
</tr>
<tr class="odd">
<td align="left">1</td>
<td align="left">fraxamer</td>
<td align="left">20</td>
<td align="left">tsugcana</td>
<td align="left">1</td>
<td align="left">piceglau</td>
<td align="left">20</td>
<td align="left">fraxamer</td>
</tr>
<tr class="even">
<td align="left">1</td>
<td align="left">piceglau</td>
<td align="left">20</td>
<td align="left">querrubr</td>
<td align="left">1</td>
<td align="left">pinuresi</td>
<td align="left">20</td>
<td align="left">tsugcana</td>
</tr>
<tr class="odd">
<td align="left">1</td>
<td align="left">pinubank</td>
<td align="left">20</td>
<td align="left">thujocci</td>
<td align="left">1</td>
<td align="left">acersacc</td>
<td align="left">20</td>
<td align="left">abiebals</td>
</tr>
<tr class="even">
<td align="left">1</td>
<td align="left">pinuresi</td>
<td align="left">20</td>
<td align="left">acersacc</td>
<td align="left">1</td>
<td align="left">querelli</td>
<td align="left">20</td>
<td align="left">acerrubr</td>
</tr>
<tr class="odd">
<td align="left">1</td>
<td align="left">pinustro</td>
<td align="left">20</td>
<td align="left">betualle</td>
<td align="left">1</td>
<td align="left">querrubr</td>
<td align="left">20</td>
<td align="left">pinubank</td>
</tr>
<tr class="even">
<td align="left">1</td>
<td align="left">poputrem</td>
<td align="left">20</td>
<td align="left">abiebals</td>
<td align="left">1</td>
<td align="left">thujocci</td>
<td align="left">20</td>
<td align="left">pinustro</td>
</tr>
<tr class="odd">
<td align="left">1</td>
<td align="left">querelli</td>
<td align="left">20</td>
<td align="left">acerrubr</td>
<td align="left">1</td>
<td align="left">tiliamer</td>
<td align="left">20</td>
<td align="left">poputrem</td>
</tr>
<tr class="even">
<td align="left">1</td>
<td align="left">querrubr</td>
<td align="left">20</td>
<td align="left">piceglau</td>
<td align="left">1</td>
<td align="left">tsugcana</td>
<td align="left">20</td>
<td align="left">pinuresi</td>
</tr>
<tr class="odd">
<td align="left">1</td>
<td align="left">thujocci</td>
<td align="left">20</td>
<td align="left">pinubank</td>
<td align="left">1</td>
<td align="left">abiebals</td>
<td align="left">20</td>
<td align="left">acersacc</td>
</tr>
<tr class="even">
<td align="left">1</td>
<td align="left">tiliamer</td>
<td align="left">20</td>
<td align="left">betupapy</td>
<td align="left">1</td>
<td align="left">betupapy</td>
<td align="left">20</td>
<td align="left">betualle</td>
</tr>
<tr class="odd">
<td align="left">1</td>
<td align="left">tsugcana</td>
<td align="left">20</td>
<td align="left">fraxamer</td>
<td align="left">1</td>
<td align="left">fraxamer</td>
<td align="left">20</td>
<td align="left">piceglau</td>
</tr>
</tbody>
</table></div>
<!--
| Input order 1 |          |     |            | Input order 2 |          |     |            |
|:--------------|:---------|:----|:-----------|:--------------|:---------|:----|:-----------|
| Community     | Input    | Age | Processing | Community     | Input    | Age | Processing |
|               | order    |     | order      |               | order    |     | order      |
| 1             | abiebals | 1   | poputrem   | 1             | pinustro | 1   | thujocci   |
| 1             | acerrubr | 1   | querelli   | 1             | poputrem | 1   | tiliamer   |
| 1             | acersacc | 1   | pinuresi   | 1             | acerrubr | 1   | querelli   |
| 1             | betualle | 1   | pinustro   | 1             | pinubank | 1   | querrubr   |
| 1             | betupapy | 1   | tiliamer   | 1             | betualle | 1   | betupapy   |
| 1             | fraxamer | 1   | tsugcana   | 1             | piceglau | 1   | fraxamer   |
| 1             | piceglau | 1   | querrubr   | 1             | pinuresi | 1   | tsugcana   |
| 1             | pinubank | 1   | thujocci   | 1             | acersacc | 1   | abiebals   |
| 1             | pinuresi | 1   | acersacc   | 1             | querelli | 1   | acerrubr   |
| 1             | pinustro | 1   | betualle   | 1             | querrubr | 1   | pinubank   |
| 1             | poputrem | 1   | abiebals   | 1             | thujocci | 1   | pinustro   |
| 1             | querelli | 1   | acerrubr   | 1             | tiliamer | 1   | poputrem   |
| 1             | querrubr | 1   | piceglau   | 1             | tsugcana | 1   | pinuresi   |
| 1             | thujocci | 1   | pinubank   | 1             | abiebals | 1   | acersacc   |
| 1             | tiliamer | 1   | betupapy   | 1             | betupapy | 1   | betualle   |
| 1             | tsugcana | 1   | fraxamer   | 1             | fraxamer | 1   | piceglau   |

: (#tab:tableLBSEtest2) Input order and processing order (as determined by LBSE)
for the same community used to assess the impact of setting the succession time
step to 1, combined with a lack of explicit species ordering. The input order
was the order of species in the initial communities table input file. The
processing order was the order used in the simulation, which was obtained from
`Landis-log.txt` when `CalibrateMode` was set to 'yes'. Species starting ages
are also shown.
--><div class="inline-table"><table class="table table-sm">
<caption>
<span id="tab:tableLBSEtest2">Table 1.9: </span>Input order and processing order (as determined by LBSE) for the same community used to assess the impact of setting the succession time step to 1, combined with a lack of explicit species ordering. The input order was the order of species in the initial communities table input file. The processing order was the order used in the simulation, which was obtained from <code>Landis-log.txt</code> when <code>CalibrateMode</code> was set to ‘yes’. Species starting ages are also shown.</caption>
<colgroup>
<col width="17%">
<col width="14%">
<col width="4%">
<col width="13%">
<col width="17%">
<col width="14%">
<col width="4%">
<col width="13%">
</colgroup>
<thead><tr class="header">
<th align="left">Input order 1</th>
<th align="left"></th>
<th align="left"></th>
<th align="left"></th>
<th align="left">Input order 2</th>
<th align="left"></th>
<th align="left"></th>
<th align="left"></th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Community</td>
<td align="left">Input order</td>
<td align="left">Age</td>
<td align="left">Processing</td>
<td align="left">Community</td>
<td align="left">Input order</td>
<td align="left">Age</td>
<td align="left">Processing</td>
</tr>
<tr class="even">
<td align="left">1</td>
<td align="left">abiebals</td>
<td align="left">1</td>
<td align="left">poputrem</td>
<td align="left">1</td>
<td align="left">pinustro</td>
<td align="left">1</td>
<td align="left">thujocci</td>
</tr>
<tr class="odd">
<td align="left">1</td>
<td align="left">acerrubr</td>
<td align="left">1</td>
<td align="left">querelli</td>
<td align="left">1</td>
<td align="left">poputrem</td>
<td align="left">1</td>
<td align="left">tiliamer</td>
</tr>
<tr class="even">
<td align="left">1</td>
<td align="left">acersacc</td>
<td align="left">1</td>
<td align="left">pinuresi</td>
<td align="left">1</td>
<td align="left">acerrubr</td>
<td align="left">1</td>
<td align="left">querelli</td>
</tr>
<tr class="odd">
<td align="left">1</td>
<td align="left">betualle</td>
<td align="left">1</td>
<td align="left">pinustro</td>
<td align="left">1</td>
<td align="left">pinubank</td>
<td align="left">1</td>
<td align="left">querrubr</td>
</tr>
<tr class="even">
<td align="left">1</td>
<td align="left">betupapy</td>
<td align="left">1</td>
<td align="left">tiliamer</td>
<td align="left">1</td>
<td align="left">betualle</td>
<td align="left">1</td>
<td align="left">betupapy</td>
</tr>
<tr class="odd">
<td align="left">1</td>
<td align="left">fraxamer</td>
<td align="left">1</td>
<td align="left">tsugcana</td>
<td align="left">1</td>
<td align="left">piceglau</td>
<td align="left">1</td>
<td align="left">fraxamer</td>
</tr>
<tr class="even">
<td align="left">1</td>
<td align="left">piceglau</td>
<td align="left">1</td>
<td align="left">querrubr</td>
<td align="left">1</td>
<td align="left">pinuresi</td>
<td align="left">1</td>
<td align="left">tsugcana</td>
</tr>
<tr class="odd">
<td align="left">1</td>
<td align="left">pinubank</td>
<td align="left">1</td>
<td align="left">thujocci</td>
<td align="left">1</td>
<td align="left">acersacc</td>
<td align="left">1</td>
<td align="left">abiebals</td>
</tr>
<tr class="even">
<td align="left">1</td>
<td align="left">pinuresi</td>
<td align="left">1</td>
<td align="left">acersacc</td>
<td align="left">1</td>
<td align="left">querelli</td>
<td align="left">1</td>
<td align="left">acerrubr</td>
</tr>
<tr class="odd">
<td align="left">1</td>
<td align="left">pinustro</td>
<td align="left">1</td>
<td align="left">betualle</td>
<td align="left">1</td>
<td align="left">querrubr</td>
<td align="left">1</td>
<td align="left">pinubank</td>
</tr>
<tr class="even">
<td align="left">1</td>
<td align="left">poputrem</td>
<td align="left">1</td>
<td align="left">abiebals</td>
<td align="left">1</td>
<td align="left">thujocci</td>
<td align="left">1</td>
<td align="left">pinustro</td>
</tr>
<tr class="odd">
<td align="left">1</td>
<td align="left">querelli</td>
<td align="left">1</td>
<td align="left">acerrubr</td>
<td align="left">1</td>
<td align="left">tiliamer</td>
<td align="left">1</td>
<td align="left">poputrem</td>
</tr>
<tr class="even">
<td align="left">1</td>
<td align="left">querrubr</td>
<td align="left">1</td>
<td align="left">piceglau</td>
<td align="left">1</td>
<td align="left">tsugcana</td>
<td align="left">1</td>
<td align="left">pinuresi</td>
</tr>
<tr class="odd">
<td align="left">1</td>
<td align="left">thujocci</td>
<td align="left">1</td>
<td align="left">pinubank</td>
<td align="left">1</td>
<td align="left">abiebals</td>
<td align="left">1</td>
<td align="left">acersacc</td>
</tr>
<tr class="even">
<td align="left">1</td>
<td align="left">tiliamer</td>
<td align="left">1</td>
<td align="left">betupapy</td>
<td align="left">1</td>
<td align="left">betupapy</td>
<td align="left">1</td>
<td align="left">betualle</td>
</tr>
<tr class="odd">
<td align="left">1</td>
<td align="left">tsugcana</td>
<td align="left">1</td>
<td align="left">fraxamer</td>
<td align="left">1</td>
<td align="left">fraxamer</td>
<td align="left">1</td>
<td align="left">piceglau</td>
</tr>
</tbody>
</table></div>
<!--
| Community | Species  | Age 1 | Age 2 | Age 3 | Age 4 | Age 5 | Age 6 | Age 7 |
|:----------|:---------|:------|:------|:------|:------|:------|:------|:------|
| 0         | betupapy | 1     | 37    | 45    | 46    | 85    | NA    | NA    |
| 0         | piceglau | 27    | 73    | 153   | 256   | 270   | NA    | NA    |
| 0         | pinustro | 157   | 159   | 181   | 220   | 223   | 303   | 307   |
| 0         | querrubr | 80    | 102   | 127   | 152   | 206   | 227   | NA    |
| 1         | acerrubr | 3     | 91    | 126   | 145   | NA    | NA    | NA    |
| 1         | acersacc | 138   | 144   | 276   | NA    | NA    | NA    | NA    |
| 1         | betualle | 24    | 106   | 136   | 149   | 279   | NA    | NA    |
| 1         | piceglau | 27    | 67    | 70    | 153   | NA    | NA    | NA    |
| 1         | pinubank | 3     | 10    | 24    | 31    | 71    | NA    | NA    |
| 1         | querelli | 92    | 224   | 234   | NA    | NA    | NA    | NA    |
| 1         | thujocci | 73    | 146   | 262   | NA    | NA    | NA    | NA    |
| 2         | fraxamer | 108   | 118   | 137   | 147   | 204   | NA    | NA    |
| 2         | piceglau | 40    | 128   | 131   | 159   | 174   | NA    | NA    |
| 2         | pinustro | 78    | 156   | 237   | 245   | 270   | NA    | NA    |
| 2         | querelli | 67    | 97    | 186   | 292   | NA    | NA    | NA    |
| 2         | tiliamer | 70    | 103   | 121   | 152   | 178   | 180   | 245   |
| 3         | acerrubr | 5     | 83    | 125   | 126   | 127   | NA    | NA    |
| 3         | pinuresi | 1     | 25    | 42    | 49    | 76    | 79    | 103   |
| 3         | poputrem | 4     | 9     | 62    | NA    | NA    | NA    | NA    |
| 3         | querelli | 101   | 104   | 167   | 226   | NA    | NA    | NA    |
| 3         | tsugcana | 37    | 135   | 197   | 404   | 405   | NA    | NA    |
| 4         | acerrubr | 15    | 29    | 63    | 70    | 105   | 133   | NA    |
| 4         | piceglau | 67    | 132   | 189   | NA    | NA    | NA    | NA    |
| 4         | tsugcana | 21    | 26    | 110   | 146   | 341   | 462   | 463   |
| 5         | acerrubr | 128   | 137   | 145   | 147   | NA    | NA    | NA    |
| 5         | acersacc | 241   | 245   | 261   | 277   | NA    | NA    | NA    |
| 5         | querrubr | 23    | 72    | 120   | 142   | 188   | NA    | NA    |
| 5         | tiliamer | 4     | 68    | 98    | 118   | 139   | 197   | NA    |
| 6         | betualle | 5     | 23    | 31    | 249   | NA    | NA    | NA    |
| 6         | pinubank | 67    | 70    | 89    | NA    | NA    | NA    | NA    |
| 6         | querelli | 194   | 217   | 257   | NA    | NA    | NA    | NA    |

: (#tab:tableLBSEtest3) Randomly generated community combination no. 1 used in
the recruitment comparison runs.
--><div class="inline-table"><table class="table table-sm">
<caption>
<span id="tab:tableLBSEtest3">Table 1.10: </span>Randomly generated community combination no. 1 used in the recruitment comparison runs.</caption>
<thead><tr class="header">
<th align="right">Community</th>
<th align="left">Species</th>
<th align="right">Age 1</th>
<th align="right">Age 2</th>
<th align="right">Age 3</th>
<th align="right">Age 4</th>
<th align="right">Age 5</th>
<th align="right">Age 6</th>
<th align="right">Age 7</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">0</td>
<td align="left">betupapy</td>
<td align="right">1</td>
<td align="right">37</td>
<td align="right">45</td>
<td align="right">46</td>
<td align="right">85</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="right">0</td>
<td align="left">piceglau</td>
<td align="right">27</td>
<td align="right">73</td>
<td align="right">153</td>
<td align="right">256</td>
<td align="right">270</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="right">0</td>
<td align="left">pinustro</td>
<td align="right">157</td>
<td align="right">159</td>
<td align="right">181</td>
<td align="right">220</td>
<td align="right">223</td>
<td align="right">303</td>
<td align="right">307</td>
</tr>
<tr class="even">
<td align="right">0</td>
<td align="left">querrubr</td>
<td align="right">80</td>
<td align="right">102</td>
<td align="right">127</td>
<td align="right">152</td>
<td align="right">206</td>
<td align="right">227</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="left">acerrubr</td>
<td align="right">3</td>
<td align="right">91</td>
<td align="right">126</td>
<td align="right">145</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="left">acersacc</td>
<td align="right">138</td>
<td align="right">144</td>
<td align="right">276</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="left">betualle</td>
<td align="right">24</td>
<td align="right">106</td>
<td align="right">136</td>
<td align="right">149</td>
<td align="right">279</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="left">piceglau</td>
<td align="right">27</td>
<td align="right">67</td>
<td align="right">70</td>
<td align="right">153</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="left">pinubank</td>
<td align="right">3</td>
<td align="right">10</td>
<td align="right">24</td>
<td align="right">31</td>
<td align="right">71</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="left">querelli</td>
<td align="right">92</td>
<td align="right">224</td>
<td align="right">234</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="left">thujocci</td>
<td align="right">73</td>
<td align="right">146</td>
<td align="right">262</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="left">fraxamer</td>
<td align="right">108</td>
<td align="right">118</td>
<td align="right">137</td>
<td align="right">147</td>
<td align="right">204</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="right">2</td>
<td align="left">piceglau</td>
<td align="right">40</td>
<td align="right">128</td>
<td align="right">131</td>
<td align="right">159</td>
<td align="right">174</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="left">pinustro</td>
<td align="right">78</td>
<td align="right">156</td>
<td align="right">237</td>
<td align="right">245</td>
<td align="right">270</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="right">2</td>
<td align="left">querelli</td>
<td align="right">67</td>
<td align="right">97</td>
<td align="right">186</td>
<td align="right">292</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="left">tiliamer</td>
<td align="right">70</td>
<td align="right">103</td>
<td align="right">121</td>
<td align="right">152</td>
<td align="right">178</td>
<td align="right">180</td>
<td align="right">245</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="left">acerrubr</td>
<td align="right">5</td>
<td align="right">83</td>
<td align="right">125</td>
<td align="right">126</td>
<td align="right">127</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="right">3</td>
<td align="left">pinuresi</td>
<td align="right">1</td>
<td align="right">25</td>
<td align="right">42</td>
<td align="right">49</td>
<td align="right">76</td>
<td align="right">79</td>
<td align="right">103</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="left">poputrem</td>
<td align="right">4</td>
<td align="right">9</td>
<td align="right">62</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="right">3</td>
<td align="left">querelli</td>
<td align="right">101</td>
<td align="right">104</td>
<td align="right">167</td>
<td align="right">226</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="left">tsugcana</td>
<td align="right">37</td>
<td align="right">135</td>
<td align="right">197</td>
<td align="right">404</td>
<td align="right">405</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="right">4</td>
<td align="left">acerrubr</td>
<td align="right">15</td>
<td align="right">29</td>
<td align="right">63</td>
<td align="right">70</td>
<td align="right">105</td>
<td align="right">133</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="right">4</td>
<td align="left">piceglau</td>
<td align="right">67</td>
<td align="right">132</td>
<td align="right">189</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="right">4</td>
<td align="left">tsugcana</td>
<td align="right">21</td>
<td align="right">26</td>
<td align="right">110</td>
<td align="right">146</td>
<td align="right">341</td>
<td align="right">462</td>
<td align="right">463</td>
</tr>
<tr class="odd">
<td align="right">5</td>
<td align="left">acerrubr</td>
<td align="right">128</td>
<td align="right">137</td>
<td align="right">145</td>
<td align="right">147</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="right">5</td>
<td align="left">acersacc</td>
<td align="right">241</td>
<td align="right">245</td>
<td align="right">261</td>
<td align="right">277</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="right">5</td>
<td align="left">querrubr</td>
<td align="right">23</td>
<td align="right">72</td>
<td align="right">120</td>
<td align="right">142</td>
<td align="right">188</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="right">5</td>
<td align="left">tiliamer</td>
<td align="right">4</td>
<td align="right">68</td>
<td align="right">98</td>
<td align="right">118</td>
<td align="right">139</td>
<td align="right">197</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="right">6</td>
<td align="left">betualle</td>
<td align="right">5</td>
<td align="right">23</td>
<td align="right">31</td>
<td align="right">249</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="right">6</td>
<td align="left">pinubank</td>
<td align="right">67</td>
<td align="right">70</td>
<td align="right">89</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="right">6</td>
<td align="left">querelli</td>
<td align="right">194</td>
<td align="right">217</td>
<td align="right">257</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
</tbody>
</table></div>
<!--
| Community | Species  | Age 1 | Age 2 | Age 3 | Age 4 | Age 5 | Age 6 | Age 7 |
|:----------|:---------|:------|:------|:------|:------|:------|:------|:------|
| 0         | acerrubr | 22    | 26    | 30    | 40    | 47    | 145   | 146   |
| 0         | betualle | 23    | 41    | 43    | 120   | 209   | 227   | 270   |
| 0         | fraxamer | 25    | 90    | 119   | 173   | 185   | 282   | NA    |
| 0         | pinuresi | 48    | 53    | 70    | 121   | 157   | NA    | NA    |
| 0         | pinustro | 5     | 82    | 126   | 298   | 352   | NA    | NA    |
| 0         | querrubr | 2     | 30    | 34    | 74    | 77    | 162   | 245   |
| 1         | acerrubr | 2     | 39    | 43    | 84    | 116   | 127   | 143   |
| 1         | pinubank | 34    | 57    | 75    | NA    | NA    | NA    | NA    |
| 1         | querelli | 108   | 202   | 218   | 243   | NA    | NA    | NA    |
| 1         | querrubr | 5     | 117   | 131   | 186   | 189   | 246   | NA    |
| 1         | tiliamer | 10    | 19    | 46    | 80    | 133   | 148   | 231   |
| 1         | tsugcana | 31    | 48    | 190   | 246   | 330   | NA    | NA    |
| 2         | pinubank | 11    | 37    | 38    | 47    | 67    | 93    | NA    |
| 2         | querrubr | 11    | 48    | 57    | 177   | 180   | 228   | 236   |
| 2         | tiliamer | 28    | 42    | 78    | 79    | 223   | 250   | NA    |
| 2         | tsugcana | 140   | 202   | 372   | 381   | 451   | NA    | NA    |
| 3         | acersacc | 48    | 107   | 262   | 265   | NA    | NA    | NA    |
| 3         | betupapy | 4     | 12    | 45    | 65    | 83    | 96    | NA    |
| 3         | poputrem | 13    | 20    | 37    | 75    | 90    | NA    | NA    |
| 3         | querelli | 72    | 90    | 104   | 115   | 116   | 265   | 278   |
| 3         | tiliamer | 20    | 21    | 56    | 98    | 237   | NA    | NA    |
| 3         | tsugcana | 86    | 224   | 425   | 429   | NA    | NA    | NA    |
| 4         | fraxamer | 77    | 133   | 181   | NA    | NA    | NA    | NA    |
| 4         | pinustro | 13    | 37    | 67    | 220   | 287   | 293   | 375   |
| 4         | querrubr | 27    | 48    | 89    | 97    | NA    | NA    | NA    |
| 4         | thujocci | 91    | 244   | 305   | 390   | NA    | NA    | NA    |
| 5         | abiebals | 86    | 95    | 119   | 121   | 127   | 158   | NA    |
| 5         | betualle | 83    | 113   | 136   | 161   | 216   | 231   | NA    |
| 5         | betupapy | 10    | 38    | 64    | NA    | NA    | NA    | NA    |
| 5         | piceglau | 16    | 63    | 70    | 102   | NA    | NA    | NA    |
| 6         | acerrubr | 8     | 34    | 112   | NA    | NA    | NA    | NA    |
| 6         | betupapy | 1     | 31    | 57    | 61    | 74    | 80    | 91    |
| 6         | fraxamer | 63    | 100   | 108   | 140   | 196   | 294   | NA    |
| 6         | pinubank | 15    | 19    | 44    | 47    | 51    | 80    | NA    |
| 6         | thujocci | 78    | 146   | 163   | 213   | 214   | 228   | NA    |
| 6         | tsugcana | 47    | 108   | 387   | 389   | 449   | NA    | NA    |

: (#tab:tableLBSEtest4) Randomly generated community combination no. 2 used in
the recruitment comparison runs.
--><!--
| Community | Species  | Age 1 | Age 2 | Age 3 | Age 4 | Age 5 | Age 6 | Age 7 |
|:----------|:---------|:------|:------|:------|:------|:------|:------|:------|
| 0         | pinubank | 7     | 26    | 32    | 37    | 48    | 85    | 90    |
| 0         | pinuresi | 11    | 103   | 109   | 179   | 188   | 197   | NA    |
| 0         | querrubr | 89    | 139   | 180   | 206   | NA    | NA    | NA    |
| 1         | betupapy | 36    | 39    | 45    | 49    | 66    | 68    | NA    |
| 1         | piceglau | 13    | 165   | 254   | NA    | NA    | NA    | NA    |
| 1         | pinubank | 3     | 19    | 54    | 64    | 76    | NA    | NA    |
| 1         | poputrem | 22    | 59    | 93    | NA    | NA    | NA    | NA    |
| 1         | thujocci | 68    | 98    | 274   | 275   | 363   | 378   | NA    |
| 1         | tiliamer | 13    | 20    | 105   | 124   | 248   | NA    | NA    |
| 1         | tsugcana | 36    | 90    | 142   | NA    | NA    | NA    | NA    |
| 2         | fraxamer | 11    | 241   | 279   | NA    | NA    | NA    | NA    |
| 2         | piceglau | 16    | 42    | 129   | 177   | 200   | 244   | NA    |
| 2         | pinustro | 200   | 342   | 384   | NA    | NA    | NA    | NA    |
| 3         | abiebals | 31    | 57    | 61    | 92    | 108   | 162   | 183   |
| 3         | piceglau | 126   | 255   | 261   | 267   | NA    | NA    | NA    |
| 3         | poputrem | 28    | 41    | 57    | NA    | NA    | NA    | NA    |
| 3         | querrubr | 83    | 91    | 144   | 173   | 184   | 238   | NA    |
| 3         | thujocci | 6     | 66    | 68    | 204   | NA    | NA    | NA    |
| 4         | fraxamer | 12    | 110   | 266   | 270   | NA    | NA    | NA    |
| 4         | pinustro | 174   | 270   | 359   | 379   | NA    | NA    | NA    |
| 4         | poputrem | 4     | 7     | 18    | 24    | 63    | 76    | NA    |
| 4         | tiliamer | 126   | 136   | 197   | NA    | NA    | NA    | NA    |
| 4         | tsugcana | 49    | 91    | 128   | 194   | 411   | 487   | NA    |
| 5         | abiebals | 35    | 53    | 108   | 114   | 147   | 174   | 195   |
| 5         | acerrubr | 1     | 2     | 101   | 145   | NA    | NA    | NA    |
| 5         | pinubank | 14    | 15    | 38    | 40    | 59    | 69    | 83    |
| 6         | acerrubr | 4     | 46    | 117   | NA    | NA    | NA    | NA    |
| 6         | betualle | 36    | 41    | 116   | 213   | 253   | NA    | NA    |
| 6         | betupapy | 4     | 6     | 76    | NA    | NA    | NA    | NA    |
| 6         | pinuresi | 43    | 68    | 85    | 171   | NA    | NA    | NA    |
| 6         | querrubr | 84    | 86    | 113   | 185   | 193   | 223   | 228   |
| 6         | tiliamer | 13    | 106   | 181   | 199   | 246   | NA    | NA    |

: (#tab:tableLBSEtest5) Randomly generated community combination no. 3 used in the recruitment comparison runs.
--><div class="inline-table"><table class="table table-sm">
<caption>
<span id="tab:tableLBSEtest5">Table 1.12: </span>Randomly generated community combination no. 3 used in the recruitment comparison runs.</caption>
<thead><tr class="header">
<th align="right">Community</th>
<th align="left">Species</th>
<th align="right">Age 1</th>
<th align="right">Age 2</th>
<th align="right">Age 3</th>
<th align="right">Age 4</th>
<th align="right">Age 5</th>
<th align="right">Age 6</th>
<th align="right">Age 7</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">0</td>
<td align="left">pinubank</td>
<td align="right">7</td>
<td align="right">26</td>
<td align="right">32</td>
<td align="right">37</td>
<td align="right">48</td>
<td align="right">85</td>
<td align="right">90</td>
</tr>
<tr class="even">
<td align="right">0</td>
<td align="left">pinuresi</td>
<td align="right">11</td>
<td align="right">103</td>
<td align="right">109</td>
<td align="right">179</td>
<td align="right">188</td>
<td align="right">197</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="right">0</td>
<td align="left">querrubr</td>
<td align="right">89</td>
<td align="right">139</td>
<td align="right">180</td>
<td align="right">206</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="left">betupapy</td>
<td align="right">36</td>
<td align="right">39</td>
<td align="right">45</td>
<td align="right">49</td>
<td align="right">66</td>
<td align="right">68</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="left">piceglau</td>
<td align="right">13</td>
<td align="right">165</td>
<td align="right">254</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="left">pinubank</td>
<td align="right">3</td>
<td align="right">19</td>
<td align="right">54</td>
<td align="right">64</td>
<td align="right">76</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="left">poputrem</td>
<td align="right">22</td>
<td align="right">59</td>
<td align="right">93</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="left">thujocci</td>
<td align="right">68</td>
<td align="right">98</td>
<td align="right">274</td>
<td align="right">275</td>
<td align="right">363</td>
<td align="right">378</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="left">tiliamer</td>
<td align="right">13</td>
<td align="right">20</td>
<td align="right">105</td>
<td align="right">124</td>
<td align="right">248</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="left">tsugcana</td>
<td align="right">36</td>
<td align="right">90</td>
<td align="right">142</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="right">2</td>
<td align="left">fraxamer</td>
<td align="right">11</td>
<td align="right">241</td>
<td align="right">279</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="left">piceglau</td>
<td align="right">16</td>
<td align="right">42</td>
<td align="right">129</td>
<td align="right">177</td>
<td align="right">200</td>
<td align="right">244</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="right">2</td>
<td align="left">pinustro</td>
<td align="right">200</td>
<td align="right">342</td>
<td align="right">384</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="right">3</td>
<td align="left">abiebals</td>
<td align="right">31</td>
<td align="right">57</td>
<td align="right">61</td>
<td align="right">92</td>
<td align="right">108</td>
<td align="right">162</td>
<td align="right">183</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="left">piceglau</td>
<td align="right">126</td>
<td align="right">255</td>
<td align="right">261</td>
<td align="right">267</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="right">3</td>
<td align="left">poputrem</td>
<td align="right">28</td>
<td align="right">41</td>
<td align="right">57</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="left">querrubr</td>
<td align="right">83</td>
<td align="right">91</td>
<td align="right">144</td>
<td align="right">173</td>
<td align="right">184</td>
<td align="right">238</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="right">3</td>
<td align="left">thujocci</td>
<td align="right">6</td>
<td align="right">66</td>
<td align="right">68</td>
<td align="right">204</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="right">4</td>
<td align="left">fraxamer</td>
<td align="right">12</td>
<td align="right">110</td>
<td align="right">266</td>
<td align="right">270</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="right">4</td>
<td align="left">pinustro</td>
<td align="right">174</td>
<td align="right">270</td>
<td align="right">359</td>
<td align="right">379</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="right">4</td>
<td align="left">poputrem</td>
<td align="right">4</td>
<td align="right">7</td>
<td align="right">18</td>
<td align="right">24</td>
<td align="right">63</td>
<td align="right">76</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="right">4</td>
<td align="left">tiliamer</td>
<td align="right">126</td>
<td align="right">136</td>
<td align="right">197</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="right">4</td>
<td align="left">tsugcana</td>
<td align="right">49</td>
<td align="right">91</td>
<td align="right">128</td>
<td align="right">194</td>
<td align="right">411</td>
<td align="right">487</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="right">5</td>
<td align="left">abiebals</td>
<td align="right">35</td>
<td align="right">53</td>
<td align="right">108</td>
<td align="right">114</td>
<td align="right">147</td>
<td align="right">174</td>
<td align="right">195</td>
</tr>
<tr class="odd">
<td align="right">5</td>
<td align="left">acerrubr</td>
<td align="right">1</td>
<td align="right">2</td>
<td align="right">101</td>
<td align="right">145</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="right">5</td>
<td align="left">pinubank</td>
<td align="right">14</td>
<td align="right">15</td>
<td align="right">38</td>
<td align="right">40</td>
<td align="right">59</td>
<td align="right">69</td>
<td align="right">83</td>
</tr>
<tr class="odd">
<td align="right">6</td>
<td align="left">acerrubr</td>
<td align="right">4</td>
<td align="right">46</td>
<td align="right">117</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="right">6</td>
<td align="left">betualle</td>
<td align="right">36</td>
<td align="right">41</td>
<td align="right">116</td>
<td align="right">213</td>
<td align="right">253</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="right">6</td>
<td align="left">betupapy</td>
<td align="right">4</td>
<td align="right">6</td>
<td align="right">76</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="right">6</td>
<td align="left">pinuresi</td>
<td align="right">43</td>
<td align="right">68</td>
<td align="right">85</td>
<td align="right">171</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="right">6</td>
<td align="left">querrubr</td>
<td align="right">84</td>
<td align="right">86</td>
<td align="right">113</td>
<td align="right">185</td>
<td align="right">193</td>
<td align="right">223</td>
<td align="right">228</td>
</tr>
<tr class="even">
<td align="right">6</td>
<td align="left">tiliamer</td>
<td align="right">13</td>
<td align="right">106</td>
<td align="right">181</td>
<td align="right">199</td>
<td align="right">246</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
</tbody>
</table></div>
<!--
+----------+-----------+--------------+----------------+------------------+------------------+----------------+-------------+
| Species  | Longevity | Sexualmature | Shadetolerance | Seeddistance_eff | Seeddistance_max | Mortalityshape | Growthcurve |
+==========+===========+==============+================+==================+==================+================+=============+
| abiebals | 200       | 25           | 5              | 30               | 160              | 10             | 0.25        |
+----------+-----------+--------------+----------------+------------------+------------------+----------------+-------------+
| acerrubr | 150       | 10           | 4              | 100              | 200              | 10             | 0.25        |
+----------+-----------+--------------+----------------+------------------+------------------+----------------+-------------+
| acersacc | 300       | 40           | 5              | 100              | 200              | 10             | 0.25        |
+----------+-----------+--------------+----------------+------------------+------------------+----------------+-------------+
| betualle | 300       | 40           | 4              | 100              | 400              | 10             | 0.25        |
+----------+-----------+--------------+----------------+------------------+------------------+----------------+-------------+
| betupapy | 100       | 30           | 2              | 200              | 5000             | 10             | 0.25        |
+----------+-----------+--------------+----------------+------------------+------------------+----------------+-------------+
| fraxamer | 300       | 30           | 4              | 70               | 140              | 10             | 0.25        |
+----------+-----------+--------------+----------------+------------------+------------------+----------------+-------------+
| piceglau | 300       | 25           | 3              | 30               | 200              | 10             | 0.25        |
+----------+-----------+--------------+----------------+------------------+------------------+----------------+-------------+
| pinubank | 100       | 15           | 1              | 20               | 100              | 10             | 0.25        |
+----------+-----------+--------------+----------------+------------------+------------------+----------------+-------------+
| pinuresi | 200       | 35           | 2              | 20               | 275              | 10             | 0.25        |
+----------+-----------+--------------+----------------+------------------+------------------+----------------+-------------+
| pinustro | 400       | 40           | 3              | 60               | 210              | 10             | 0.25        |
+----------+-----------+--------------+----------------+------------------+------------------+----------------+-------------+
| poputrem | 100       | 20           | 1              | 1000             | 5000             | 10             | 0.25        |
+----------+-----------+--------------+----------------+------------------+------------------+----------------+-------------+
| querelli | 300       | 35           | 2              | 30               | 3000             | 10             | 0.25        |
+----------+-----------+--------------+----------------+------------------+------------------+----------------+-------------+
| querrubr | 250       | 25           | 3              | 30               | 3000             | 10             | 0.25        |
+----------+-----------+--------------+----------------+------------------+------------------+----------------+-------------+
| thujocci | 400       | 30           | 2              | 45               | 60               | 10             | 0.25        |
+----------+-----------+--------------+----------------+------------------+------------------+----------------+-------------+
| tiliamer | 250       | 30           | 4              | 30               | 120              | 10             | 0.25        |
+----------+-----------+--------------+----------------+------------------+------------------+----------------+-------------+
| tsugcana | 500       | 30           | 5              | 30               | 100              | 10             | 0.25        |
+----------+-----------+--------------+----------------+------------------+------------------+----------------+-------------+

: (#tab:tableLBSEtest6) Invariant species traits table used in comparison runs.
--><div class="inline-table"><table class="table table-sm">
<caption>
<span id="tab:tableLBSEtest6">Table 1.13: </span>Invariant species traits table used in comparison runs.</caption>
<colgroup>
<col width="8%">
<col width="9%">
<col width="12%">
<col width="13%">
<col width="15%">
<col width="15%">
<col width="13%">
<col width="11%">
</colgroup>
<thead><tr class="header">
<th align="left">Species</th>
<th align="right">Longevity</th>
<th align="right">Sexualmature</th>
<th align="right">Shadetolerance</th>
<th align="right">Seeddistance_eff</th>
<th align="right">Seeddistance_max</th>
<th align="right">Mortalityshape</th>
<th align="right">Growthcurve</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">abiebals</td>
<td align="right">200</td>
<td align="right">25</td>
<td align="right">5</td>
<td align="right">30</td>
<td align="right">160</td>
<td align="right">10</td>
<td align="right">0.25</td>
</tr>
<tr class="even">
<td align="left">acerrubr</td>
<td align="right">150</td>
<td align="right">10</td>
<td align="right">4</td>
<td align="right">100</td>
<td align="right">200</td>
<td align="right">10</td>
<td align="right">0.25</td>
</tr>
<tr class="odd">
<td align="left">acersacc</td>
<td align="right">300</td>
<td align="right">40</td>
<td align="right">5</td>
<td align="right">100</td>
<td align="right">200</td>
<td align="right">10</td>
<td align="right">0.25</td>
</tr>
<tr class="even">
<td align="left">betualle</td>
<td align="right">300</td>
<td align="right">40</td>
<td align="right">4</td>
<td align="right">100</td>
<td align="right">400</td>
<td align="right">10</td>
<td align="right">0.25</td>
</tr>
<tr class="odd">
<td align="left">betupapy</td>
<td align="right">100</td>
<td align="right">30</td>
<td align="right">2</td>
<td align="right">200</td>
<td align="right">5000</td>
<td align="right">10</td>
<td align="right">0.25</td>
</tr>
<tr class="even">
<td align="left">fraxamer</td>
<td align="right">300</td>
<td align="right">30</td>
<td align="right">4</td>
<td align="right">70</td>
<td align="right">140</td>
<td align="right">10</td>
<td align="right">0.25</td>
</tr>
<tr class="odd">
<td align="left">piceglau</td>
<td align="right">300</td>
<td align="right">25</td>
<td align="right">3</td>
<td align="right">30</td>
<td align="right">200</td>
<td align="right">10</td>
<td align="right">0.25</td>
</tr>
<tr class="even">
<td align="left">pinubank</td>
<td align="right">100</td>
<td align="right">15</td>
<td align="right">1</td>
<td align="right">20</td>
<td align="right">100</td>
<td align="right">10</td>
<td align="right">0.25</td>
</tr>
<tr class="odd">
<td align="left">pinuresi</td>
<td align="right">200</td>
<td align="right">35</td>
<td align="right">2</td>
<td align="right">20</td>
<td align="right">275</td>
<td align="right">10</td>
<td align="right">0.25</td>
</tr>
<tr class="even">
<td align="left">pinustro</td>
<td align="right">400</td>
<td align="right">40</td>
<td align="right">3</td>
<td align="right">60</td>
<td align="right">210</td>
<td align="right">10</td>
<td align="right">0.25</td>
</tr>
<tr class="odd">
<td align="left">poputrem</td>
<td align="right">100</td>
<td align="right">20</td>
<td align="right">1</td>
<td align="right">1000</td>
<td align="right">5000</td>
<td align="right">10</td>
<td align="right">0.25</td>
</tr>
<tr class="even">
<td align="left">querelli</td>
<td align="right">300</td>
<td align="right">35</td>
<td align="right">2</td>
<td align="right">30</td>
<td align="right">3000</td>
<td align="right">10</td>
<td align="right">0.25</td>
</tr>
<tr class="odd">
<td align="left">querrubr</td>
<td align="right">250</td>
<td align="right">25</td>
<td align="right">3</td>
<td align="right">30</td>
<td align="right">3000</td>
<td align="right">10</td>
<td align="right">0.25</td>
</tr>
<tr class="even">
<td align="left">thujocci</td>
<td align="right">400</td>
<td align="right">30</td>
<td align="right">2</td>
<td align="right">45</td>
<td align="right">60</td>
<td align="right">10</td>
<td align="right">0.25</td>
</tr>
<tr class="odd">
<td align="left">tiliamer</td>
<td align="right">250</td>
<td align="right">30</td>
<td align="right">4</td>
<td align="right">30</td>
<td align="right">120</td>
<td align="right">10</td>
<td align="right">0.25</td>
</tr>
<tr class="even">
<td align="left">tsugcana</td>
<td align="right">500</td>
<td align="right">30</td>
<td align="right">5</td>
<td align="right">30</td>
<td align="right">100</td>
<td align="right">10</td>
<td align="right">0.25</td>
</tr>
</tbody>
</table></div>
<!--
| Ecolocation | X0  | X1   | X2   | X3  | X4  | X5   |
|:------------|:----|:-----|:-----|:----|:----|:-----|
| All         | 0   | 0.15 | 0.25 | 0.5 | 0.8 | 0.95 |

: (#tab:tableLBSEtest7) Minimum relative biomass table used in comparison runs. X0-5 represent site shade classes from no-shade (0) to maximum shade (5). All ecolocations shared the same values.
--><div class="inline-table"><table class="table table-sm">
<caption>
<span id="tab:tableLBSEtest7">Table 1.14: </span>Minimum relative biomass table used in comparison runs. X0-5 represent site shade classes from no-shade (0) to maximum shade (5). All ecolocations shared the same values.</caption>
<thead><tr class="header">
<th align="left">Ecolocation</th>
<th align="right">X0</th>
<th align="right">X1</th>
<th align="right">X2</th>
<th align="right">X3</th>
<th align="right">X4</th>
<th align="right">X5</th>
</tr></thead>
<tbody><tr class="odd">
<td align="left">All</td>
<td align="right">0</td>
<td align="right">0.15</td>
<td align="right">0.25</td>
<td align="right">0.5</td>
<td align="right">0.8</td>
<td align="right">0.95</td>
</tr></tbody>
</table></div>
<!--
| Shadetolerance | 0   | 1   | 2   | 3   | 4   | 5   |
|:---------------|:----|:----|:----|:----|:----|:----|
| 1              | 1   | 0   | 0   | 0   | 0   | 0   |
| 2              | 1   | 1   | 0   | 0   | 0   | 0   |
| 3              | 1   | 1   | 1   | 0   | 0   | 0   |
| 4              | 1   | 1   | 1   | 1   | 0   | 0   |
| 5              | 0   | 0   | 1   | 1   | 1   | 1   |

: (#tab:tableLBSEtest8) Probability of germination for species shade tolerance and shade level combinations (called *sufficient light* table in LBSE and `sufficientLight` input `data.table` in LandR *Biomass_core*) used in comparison runs.
--><div class="inline-table"><table class="table table-sm">
<caption>
<span id="tab:tableLBSEtest8">Table 1.15: </span>Probability of germination for species shade tolerance and shade level combinations (called <em>sufficient light</em> table in LBSE and <code>sufficientLight</code> input <code>data.table</code> in LandR <em>Biomass_core</em>) used in comparison runs.</caption>
<thead><tr class="header">
<th align="right">Shadetolerance</th>
<th align="right">0</th>
<th align="right">1</th>
<th align="right">2</th>
<th align="right">3</th>
<th align="right">4</th>
<th align="right">5</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="right">4</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="right">5</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
</tr>
</tbody>
</table></div>
<!--
| Ecolocation | Species  | SEP  | maxANPP | maxB  |
|:------------|:---------|:-----|:--------|:------|
| 1           | abiebals | 0.9  | 886     | 26580 |
| 1           | acerrubr | 1    | 1175    | 35250 |
| 1           | acersacc | 0.82 | 1106    | 33180 |
| 1           | betualle | 0.64 | 1202    | 36060 |
| 1           | betupapy | 1    | 1202    | 36060 |
| 1           | fraxamer | 0.18 | 1202    | 36060 |
| 1           | piceglau | 0.58 | 969     | 29070 |
| 1           | pinubank | 1    | 1130    | 33900 |
| 1           | pinuresi | 0.56 | 1017    | 30510 |
| 1           | pinustro | 0.72 | 1090    | 38150 |
| 1           | poputrem | 1    | 1078    | 32340 |
| 1           | querelli | 0.96 | 1096    | 32880 |
| 1           | querrubr | 0.66 | 1017    | 30510 |
| 1           | thujocci | 0.76 | 1090    | 32700 |
| 1           | tiliamer | 0.54 | 1078    | 32340 |
| 1           | tsugcana | 0.22 | 1096    | 32880 |

: (#tab:tableLBSEtest9) Species ecolocation table used in comparison runs. `SEP` stands for species establishment probability, `maxB` for maximum biomass and `maxANPP` for maximum aboveground net primary productivity. Values were held constant throughout the simulation.
--><div class="inline-table"><table class="table table-sm">
<caption>
<span id="tab:tableLBSEtest9">Table 1.16: </span>Species ecolocation table used in comparison runs. <code>SEP</code> stands for species establishment probability, <code>maxB</code> for maximum biomass and <code>maxANPP</code> for maximum aboveground net primary productivity. Values were held constant throughout the simulation.</caption>
<thead><tr class="header">
<th align="right">Ecolocation</th>
<th align="left">Species</th>
<th align="right">SEP</th>
<th align="right">maxANPP</th>
<th align="right">maxB</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td align="left">abiebals</td>
<td align="right">0.90</td>
<td align="right">886</td>
<td align="right">26580</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="left">acerrubr</td>
<td align="right">1.00</td>
<td align="right">1175</td>
<td align="right">35250</td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="left">acersacc</td>
<td align="right">0.82</td>
<td align="right">1106</td>
<td align="right">33180</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="left">betualle</td>
<td align="right">0.64</td>
<td align="right">1202</td>
<td align="right">36060</td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="left">betupapy</td>
<td align="right">1.00</td>
<td align="right">1202</td>
<td align="right">36060</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="left">fraxamer</td>
<td align="right">0.18</td>
<td align="right">1202</td>
<td align="right">36060</td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="left">piceglau</td>
<td align="right">0.58</td>
<td align="right">969</td>
<td align="right">29070</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="left">pinubank</td>
<td align="right">1.00</td>
<td align="right">1130</td>
<td align="right">33900</td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="left">pinuresi</td>
<td align="right">0.56</td>
<td align="right">1017</td>
<td align="right">30510</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="left">pinustro</td>
<td align="right">0.72</td>
<td align="right">1090</td>
<td align="right">38150</td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="left">poputrem</td>
<td align="right">1.00</td>
<td align="right">1078</td>
<td align="right">32340</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="left">querelli</td>
<td align="right">0.96</td>
<td align="right">1096</td>
<td align="right">32880</td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="left">querrubr</td>
<td align="right">0.66</td>
<td align="right">1017</td>
<td align="right">30510</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="left">thujocci</td>
<td align="right">0.76</td>
<td align="right">1090</td>
<td align="right">32700</td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="left">tiliamer</td>
<td align="right">0.54</td>
<td align="right">1078</td>
<td align="right">32340</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="left">tsugcana</td>
<td align="right">0.22</td>
<td align="right">1096</td>
<td align="right">32880</td>
</tr>
</tbody>
</table></div>
</div>
</div>
<div id="refs" class="section level2" number="1.5">
<h2>
<span class="header-section-number">1.5</span> References<a class="anchor" aria-label="anchor" href="#refs"><i class="fas fa-link"></i></a>
</h2>

</div>
</div>
<h3>References</h3>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-BurtonCumming1995" class="csl-entry">
Burton, P.J. &amp; Cumming, S.G. (1995a). Potential effects of climatic change on some western canadian forests, based on phenological enhancements to a patch model of forest succession. <em>Water, Air and Soil Pollution</em>, 82, 401–414.
</div>
<div id="ref-ChubatyMcIntire2019" class="csl-entry">
Chubaty, A.M. &amp; McIntire, E.J.B. (2019). <em><a href="https://CRAN.R-project.org/package=SpaDES">SpaDES: Develop and run spatially explicit discrete event simulation models</a></em>.
</div>
<div id="ref-McIntireChubaty2020" class="csl-entry">
McIntire, E.J.B. &amp; Chubaty, A.M. (2020). <em><a href="https://reproducible.predictiveecology.org,%20https://github.com/PredictiveEcology/reproducible">Reproducible: A set of tools that enhance reproducibility beyond package management</a></em>.
</div>
<div id="ref-SchellerDomingo2011" class="csl-entry">
Scheller, R.M. &amp; Domingo, J.B. (2011). <em>LANDIS-II model v6.0 <span></span> user guide</em>.
</div>
<div id="ref-SchellerDomingo2012" class="csl-entry">
Scheller, R.M. &amp; Domingo, J.B. (2012). <em>LANDIS-II model v6.0 <span></span> conceptual description</em>.
</div>
<div id="ref-SchellerMiranda2015" class="csl-entry">
Scheller, R.M. &amp; Miranda, B.R. (2015b). <em>LANDIS-II biomass succession v3.2 extension <span></span> user guide</em>.
</div>
<div id="ref-SchellerMladenoff2004" class="csl-entry">
Scheller, R.M. &amp; Mladenoff, D.J. (2004). <a href="https://doi.org/10.1016/j.ecolmodel.2004.01.022">A forest growth and biomass module for a landscape simulation model, LANDIS: design, validation, and application</a>. <em>Ecological Modelling</em>, 180, 211–229.
</div>
<div id="ref-SturtevantEtAl2018" class="csl-entry">
Sturtevant, B.R., Miranda, B.R., Scheller, R.M. &amp; Shinneman, D. (2018). <em>LANDIS-II dynamic fire system extension v3.0 – user guide</em>.
</div>
<div id="ref-Wickham2011" class="csl-entry">
Wickham, H. (2011). <a href="https://doi.org/10.32614/RJ-2011-002">testthat: Get Started with Testing</a>. <em>The R Journal</em>, 3, 5.
</div>
<div id="ref-YangEtAl2011" class="csl-entry">
Yang, J., He, H.S., Shifley, S.R., Thompson, F.R. &amp; Zhang, Y. (2011). <a href="https://doi.org/10.1016/j.ecolmodel.2011.04.032">An innovative computer design for modeling forest landscape change in very large spatial extents with fine resolutions</a>. <em>Ecological Modelling</em>, 222, 2623–2630.
</div>
</div>
<div class="footnotes">
<hr>
<ol start="1">
<li id="fn1"><p>in LBSE the initialisation consists in “iterat[ing] the
number of time steps equal to the maximum cohort age for each site”,
beginning at 0 minus <em>t</em> (<em>t =</em> oldest cohort age) and adding cohorts at the
appropriate time until the initial simulation time is reached (0)
<span class="citation">(<a href="#ref-SchellerMiranda2015" role="doc-biblioref">Scheller &amp; Miranda 2015b</a>)</span>.<a href="landr-biomass_core-module.html#fnref1" class="footnote-back">↩︎</a></p></li>
<li id="fn2"><p>usually, default inputs are made when running the
<code>.inputObjects</code> function (inside the module R script) during the <code>simInit</code>
call and in the <code>init</code> event during the <code>spades</code> call – see
<code><a href="https://spades-core.predictiveecology.org/reference/simList-accessors-events.html">?SpaDES.core::events</a></code> and <code><a href="https://spades-core.predictiveecology.org/reference/simInit.html">SpaDES.core::simInit</a></code><a href="landr-biomass_core-module.html#fnref2" class="footnote-back">↩︎</a></p></li>
<li id="fn3"><p>in <code>SpaDES</code> lingo parameters are “small” objects, such as an
integer or boolean, that can be controlled via the <code>parameters</code> argument in
<code>simInit</code>.<a href="landr-biomass_core-module.html#fnref3" class="footnote-back">↩︎</a></p></li>
<li id="fn4"><p><a href="https://github.com/ianmseddy/LandR.CS" class="uri">https://github.com/ianmseddy/LandR.CS</a><a href="landr-biomass_core-module.html#fnref4" class="footnote-back">↩︎</a></p></li>
<li id="fn5"><p>see <code><a href="https://spades-core.predictiveecology.org/reference/simList-accessors-outputs.html">?SpaDES.core::outputs</a></code><a href="landr-biomass_core-module.html#fnref5" class="footnote-back">↩︎</a></p></li>
<li id="fn6"><p><code>simInit</code> is a <code>SpaDES</code> function that initialises the
execution of one or more modules by parsing and checking their code and
executing the <code>.inputObjects</code> function(s), where the developer provides
mechanisms to satisfy each module’s expected inputs with default values.<a href="landr-biomass_core-module.html#fnref6" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="index.html">Preface</a></div>
<div class="next"><a href="landr-data-and-calibration-modules.html"><span class="header-section-number">2</span> LandR Data and Calibration Modules</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#landr-biomass_core-module"><span class="header-section-number">1</span> LandR Biomass_core Module</a></li>
<li>
<a class="nav-link" href="#module-overview"><span class="header-section-number">1.1</span> Module Overview</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#quick-links"><span class="header-section-number">1.1.1</span> Quick links</a></li>
<li><a class="nav-link" href="#summary"><span class="header-section-number">1.1.2</span> Summary</a></li>
<li><a class="nav-link" href="#links-modules"><span class="header-section-number">1.1.3</span> Links to other modules</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#module-manual"><span class="header-section-number">1.2</span> Module manual</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#general-functioning"><span class="header-section-number">1.2.1</span> General functioning</a></li>
<li><a class="nav-link" href="#init-inputs-params"><span class="header-section-number">1.2.2</span> Initialisation, inputs and parameters</a></li>
<li><a class="nav-link" href="#inputs-list"><span class="header-section-number">1.2.3</span> List of input objects</a></li>
<li><a class="nav-link" href="#params-list"><span class="header-section-number">1.2.4</span> List of parameters</a></li>
<li><a class="nav-link" href="#outputs-list"><span class="header-section-number">1.2.5</span> List of outputs</a></li>
<li><a class="nav-link" href="#sim-flow"><span class="header-section-number">1.2.6</span> Simulation flow and module events</a></li>
<li><a class="nav-link" href="#biomass-core-vs-lbse"><span class="header-section-number">1.2.7</span> Differences between Biomass_core and the LANDIS-II Biomass Succession Extension model (LBSE)</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#example"><span class="header-section-number">1.3</span> Usage example</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#example-libs"><span class="header-section-number">1.3.1</span> Set up R libraries</a></li>
<li><a class="nav-link" href="#example-pkg-mods"><span class="header-section-number">1.3.2</span> Get the module and module dependencies</a></li>
<li><a class="nav-link" href="#example-setupSim"><span class="header-section-number">1.3.3</span> Setup simulation</a></li>
<li><a class="nav-link" href="#example-runSim"><span class="header-section-number">1.3.4</span> Run simulation</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#appendix"><span class="header-section-number">1.4</span> Appendix</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#appendix-tables"><span class="header-section-number">1.4.1</span> Tables</a></li></ul>
</li>
<li><a class="nav-link" href="#refs"><span class="header-section-number">1.5</span> References</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/PredictiveEcology/LandR-Manual/blob/master/modules/Biomass_core/Biomass_core2.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/PredictiveEcology/LandR-Manual/edit/master/modules/Biomass_core/Biomass_core2.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>LandR Manual</strong>: v. 1.0.0" was written by </p>
<p>Edited by: Ceres Barros, Alex M. Chubaty, Ian M. S. Eddy, Eliot J. B. McIntire</p>. It was last built on Last updated: 2022-06-01.
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
